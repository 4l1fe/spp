<!DOCTYPE html>
<!-- saved from url=(0075)http://dacatay.com/data-science/part-4-time-series-prediction-arima-python/ -->
<html lang="en-US" prefix="og: http://ogp.me/ns#" class="js"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<link rel="profile" href="http://gmpg.org/xfn/11">
		<link rel="pingback" href="http://dacatay.com/xmlrpc.php">
		<script src="./Part 4_ Time Series Prediction with ARIMA Models in Python - dacatay_files/ca-pub-6962034930395047.js.download"></script><script async="" src="./Part 4_ Time Series Prediction with ARIMA Models in Python - dacatay_files/analytics.js.download"></script><script>(function(html){html.className = html.className.replace(/\bno-js\b/,'js')})(document.documentElement);</script>
<title>Part 4: Time Series Prediction with ARIMA Models in Python - dacatay</title>

<!-- This site is optimized with the Yoast SEO plugin v5.9.1 - https://yoast.com/wordpress/plugins/seo/ -->
<meta name="description" content="In this part we introduce the ARIMA model and conduct in and out-of-sample predictions by training ARIMA models to our time series data using Python.">
<link rel="canonical" href="http://dacatay.com/data-science/part-4-time-series-prediction-arima-python/">
<meta property="og:locale" content="en_US">
<meta property="og:type" content="article">
<meta property="og:title" content="Part 4: Time Series Prediction with ARIMA Models in Python - dacatay">
<meta property="og:description" content="In this part we introduce the ARIMA model and conduct in and out-of-sample predictions by training ARIMA models to our time series data using Python.">
<meta property="og:url" content="http://dacatay.com/data-science/part-4-time-series-prediction-arima-python/">
<meta property="og:site_name" content="dacatay">
<meta property="article:tag" content="ARIMA">
<meta property="article:tag" content="forecast">
<meta property="article:tag" content="prediction">
<meta property="article:tag" content="Python">
<meta property="article:tag" content="time series">
<meta property="article:tag" content="time series forecast">
<meta property="article:tag" content="time series prediction">
<meta property="article:section" content="Data Science">
<meta property="article:published_time" content="2017-11-21T16:49:14+00:00">
<meta property="article:modified_time" content="2017-12-01T17:38:28+00:00">
<meta property="og:updated_time" content="2017-12-01T17:38:28+00:00">
<meta property="og:image" content="http://dacatay.com/wp-content/uploads/2017/11/pexels-photo-280361-e1512140713482.jpeg">
<meta property="og:image:width" content="1200">
<meta property="og:image:height" content="900">
<meta name="twitter:card" content="summary">
<meta name="twitter:description" content="In this part we introduce the ARIMA model and conduct in and out-of-sample predictions by training ARIMA models to our time series data using Python.">
<meta name="twitter:title" content="Part 4: Time Series Prediction with ARIMA Models in Python - dacatay">
<meta name="twitter:image" content="https://i1.wp.com/dacatay.com/wp-content/uploads/2017/11/pexels-photo-280361-e1512140713482.jpeg?fit=1200%2C900">
<script type="application/ld+json">{"@context":"http:\/\/schema.org","@type":"WebSite","@id":"#website","url":"http:\/\/dacatay.com\/","name":"dacatay","potentialAction":{"@type":"SearchAction","target":"http:\/\/dacatay.com\/?s={search_term_string}","query-input":"required name=search_term_string"}}</script>
<script type="application/ld+json">{"@context":"http:\/\/schema.org","@type":"Person","url":"http:\/\/dacatay.com\/data-science\/part-4-time-series-prediction-arima-python\/","sameAs":[],"@id":"#person","name":"Daniel Kerim Acatay"}</script>
<!-- / Yoast SEO plugin. -->

<link rel="dns-prefetch" href="http://s0.wp.com/">
<link rel="dns-prefetch" href="http://s.gravatar.com/">
<link rel="dns-prefetch" href="http://fonts.googleapis.com/">
<link rel="dns-prefetch" href="http://s.w.org/">
<link rel="alternate" type="application/rss+xml" title="dacatay » Feed" href="http://dacatay.com/feed/">
<link rel="alternate" type="application/rss+xml" title="dacatay » Comments Feed" href="http://dacatay.com/comments/feed/">
<link rel="alternate" type="application/rss+xml" title="dacatay » Part 4: Time Series Prediction with ARIMA Models in Python Comments Feed" href="http://dacatay.com/data-science/part-4-time-series-prediction-arima-python/feed/">
		<script type="text/javascript">
			window._wpemojiSettings = {"baseUrl":"https:\/\/s.w.org\/images\/core\/emoji\/2.3\/72x72\/","ext":".png","svgUrl":"https:\/\/s.w.org\/images\/core\/emoji\/2.3\/svg\/","svgExt":".svg","source":{"concatemoji":"http:\/\/dacatay.com\/wp-includes\/js\/wp-emoji-release.min.js?ver=4.9.1"}};
			!function(a,b,c){function d(a,b){var c=String.fromCharCode;l.clearRect(0,0,k.width,k.height),l.fillText(c.apply(this,a),0,0);var d=k.toDataURL();l.clearRect(0,0,k.width,k.height),l.fillText(c.apply(this,b),0,0);var e=k.toDataURL();return d===e}function e(a){var b;if(!l||!l.fillText)return!1;switch(l.textBaseline="top",l.font="600 32px Arial",a){case"flag":return!(b=d([55356,56826,55356,56819],[55356,56826,8203,55356,56819]))&&(b=d([55356,57332,56128,56423,56128,56418,56128,56421,56128,56430,56128,56423,56128,56447],[55356,57332,8203,56128,56423,8203,56128,56418,8203,56128,56421,8203,56128,56430,8203,56128,56423,8203,56128,56447]),!b);case"emoji":return b=d([55358,56794,8205,9794,65039],[55358,56794,8203,9794,65039]),!b}return!1}function f(a){var c=b.createElement("script");c.src=a,c.defer=c.type="text/javascript",b.getElementsByTagName("head")[0].appendChild(c)}var g,h,i,j,k=b.createElement("canvas"),l=k.getContext&&k.getContext("2d");for(j=Array("flag","emoji"),c.supports={everything:!0,everythingExceptFlag:!0},i=0;i<j.length;i++)c.supports[j[i]]=e(j[i]),c.supports.everything=c.supports.everything&&c.supports[j[i]],"flag"!==j[i]&&(c.supports.everythingExceptFlag=c.supports.everythingExceptFlag&&c.supports[j[i]]);c.supports.everythingExceptFlag=c.supports.everythingExceptFlag&&!c.supports.flag,c.DOMReady=!1,c.readyCallback=function(){c.DOMReady=!0},c.supports.everything||(h=function(){c.readyCallback()},b.addEventListener?(b.addEventListener("DOMContentLoaded",h,!1),a.addEventListener("load",h,!1)):(a.attachEvent("onload",h),b.attachEvent("onreadystatechange",function(){"complete"===b.readyState&&c.readyCallback()})),g=c.source||{},g.concatemoji?f(g.concatemoji):g.wpemoji&&g.twemoji&&(f(g.twemoji),f(g.wpemoji)))}(window,document,window._wpemojiSettings);
		</script><script src="./Part 4_ Time Series Prediction with ARIMA Models in Python - dacatay_files/wp-emoji-release.min.js.download" type="text/javascript" defer=""></script>
		<style type="text/css">
img.wp-smiley,
img.emoji {
	display: inline !important;
	border: none !important;
	box-shadow: none !important;
	height: 1em !important;
	width: 1em !important;
	margin: 0 .07em !important;
	vertical-align: -0.1em !important;
	background: none !important;
	padding: 0 !important;
}
</style>
<link rel="stylesheet" id="twentysixteen-jetpack-css" href="./Part 4_ Time Series Prediction with ARIMA Models in Python - dacatay_files/twentysixteen.css" type="text/css" media="all">
<link rel="stylesheet" id="crayon-css" href="./Part 4_ Time Series Prediction with ARIMA Models in Python - dacatay_files/crayon.min.css" type="text/css" media="all">
<link rel="stylesheet" id="crayon-theme-classic-css" href="./Part 4_ Time Series Prediction with ARIMA Models in Python - dacatay_files/classic.css" type="text/css" media="all">
<link rel="stylesheet" id="crayon-font-monaco-css" href="./Part 4_ Time Series Prediction with ARIMA Models in Python - dacatay_files/monaco.css" type="text/css" media="all">
<link rel="stylesheet" id="twentysixteen-fonts-css" href="./Part 4_ Time Series Prediction with ARIMA Models in Python - dacatay_files/css" type="text/css" media="all">
<link rel="stylesheet" id="genericons-css" href="./Part 4_ Time Series Prediction with ARIMA Models in Python - dacatay_files/genericons.css" type="text/css" media="all">
<link rel="stylesheet" id="twentysixteen-style-css" href="./Part 4_ Time Series Prediction with ARIMA Models in Python - dacatay_files/style.css" type="text/css" media="all">
<style id="twentysixteen-style-inline-css" type="text/css">

		/* Custom Link Color */
		.menu-toggle:hover,
		.menu-toggle:focus,
		a,
		.main-navigation a:hover,
		.main-navigation a:focus,
		.dropdown-toggle:hover,
		.dropdown-toggle:focus,
		.social-navigation a:hover:before,
		.social-navigation a:focus:before,
		.post-navigation a:hover .post-title,
		.post-navigation a:focus .post-title,
		.tagcloud a:hover,
		.tagcloud a:focus,
		.site-branding .site-title a:hover,
		.site-branding .site-title a:focus,
		.entry-title a:hover,
		.entry-title a:focus,
		.entry-footer a:hover,
		.entry-footer a:focus,
		.comment-metadata a:hover,
		.comment-metadata a:focus,
		.pingback .comment-edit-link:hover,
		.pingback .comment-edit-link:focus,
		.comment-reply-link,
		.comment-reply-link:hover,
		.comment-reply-link:focus,
		.required,
		.site-info a:hover,
		.site-info a:focus {
			color: #ff0066;
		}

		mark,
		ins,
		button:hover,
		button:focus,
		input[type="button"]:hover,
		input[type="button"]:focus,
		input[type="reset"]:hover,
		input[type="reset"]:focus,
		input[type="submit"]:hover,
		input[type="submit"]:focus,
		.pagination .prev:hover,
		.pagination .prev:focus,
		.pagination .next:hover,
		.pagination .next:focus,
		.widget_calendar tbody a,
		.page-links a:hover,
		.page-links a:focus {
			background-color: #ff0066;
		}

		input[type="date"]:focus,
		input[type="time"]:focus,
		input[type="datetime-local"]:focus,
		input[type="week"]:focus,
		input[type="month"]:focus,
		input[type="text"]:focus,
		input[type="email"]:focus,
		input[type="url"]:focus,
		input[type="password"]:focus,
		input[type="search"]:focus,
		input[type="tel"]:focus,
		input[type="number"]:focus,
		textarea:focus,
		.tagcloud a:hover,
		.tagcloud a:focus,
		.menu-toggle:hover,
		.menu-toggle:focus {
			border-color: #ff0066;
		}

		@media screen and (min-width: 56.875em) {
			.main-navigation li:hover > a,
			.main-navigation li.focus > a {
				color: #ff0066;
			}
		}
	

		/* Custom Main Text Color */
		body,
		blockquote cite,
		blockquote small,
		.main-navigation a,
		.menu-toggle,
		.dropdown-toggle,
		.social-navigation a,
		.post-navigation a,
		.pagination a:hover,
		.pagination a:focus,
		.widget-title a,
		.site-branding .site-title a,
		.entry-title a,
		.page-links > .page-links-title,
		.comment-author,
		.comment-reply-title small a:hover,
		.comment-reply-title small a:focus {
			color: #3a3a3a
		}

		blockquote,
		.menu-toggle.toggled-on,
		.menu-toggle.toggled-on:hover,
		.menu-toggle.toggled-on:focus,
		.post-navigation,
		.post-navigation div + div,
		.pagination,
		.widget,
		.page-header,
		.page-links a,
		.comments-title,
		.comment-reply-title {
			border-color: #3a3a3a;
		}

		button,
		button[disabled]:hover,
		button[disabled]:focus,
		input[type="button"],
		input[type="button"][disabled]:hover,
		input[type="button"][disabled]:focus,
		input[type="reset"],
		input[type="reset"][disabled]:hover,
		input[type="reset"][disabled]:focus,
		input[type="submit"],
		input[type="submit"][disabled]:hover,
		input[type="submit"][disabled]:focus,
		.menu-toggle.toggled-on,
		.menu-toggle.toggled-on:hover,
		.menu-toggle.toggled-on:focus,
		.pagination:before,
		.pagination:after,
		.pagination .prev,
		.pagination .next,
		.page-links a {
			background-color: #3a3a3a;
		}

		/* Border Color */
		fieldset,
		pre,
		abbr,
		acronym,
		table,
		th,
		td,
		input[type="date"],
		input[type="time"],
		input[type="datetime-local"],
		input[type="week"],
		input[type="month"],
		input[type="text"],
		input[type="email"],
		input[type="url"],
		input[type="password"],
		input[type="search"],
		input[type="tel"],
		input[type="number"],
		textarea,
		.main-navigation li,
		.main-navigation .primary-menu,
		.menu-toggle,
		.dropdown-toggle:after,
		.social-navigation a,
		.image-navigation,
		.comment-navigation,
		.tagcloud a,
		.entry-content,
		.entry-summary,
		.page-links a,
		.page-links > span,
		.comment-list article,
		.comment-list .pingback,
		.comment-list .trackback,
		.comment-reply-link,
		.no-comments,
		.widecolumn .mu_register .mu_alert {
			border-color: #3a3a3a; /* Fallback for IE7 and IE8 */
			border-color: rgba( 58, 58, 58, 0.2);
		}

		hr,
		code {
			background-color: #3a3a3a; /* Fallback for IE7 and IE8 */
			background-color: rgba( 58, 58, 58, 0.2);
		}

		@media screen and (min-width: 56.875em) {
			.main-navigation ul ul,
			.main-navigation ul ul li {
				border-color: rgba( 58, 58, 58, 0.2);
			}

			.main-navigation ul ul:before {
				border-top-color: rgba( 58, 58, 58, 0.2);
				border-bottom-color: rgba( 58, 58, 58, 0.2);
			}
		}
	
</style>
<!--[if lt IE 10]>
<link rel='stylesheet' id='twentysixteen-ie-css'  href='http://dacatay.com/wp-content/themes/twentysixteen/css/ie.css?ver=1.4' type='text/css' media='all' />
<![endif]-->
<!--[if lt IE 9]>
<link rel='stylesheet' id='twentysixteen-ie8-css'  href='http://dacatay.com/wp-content/themes/twentysixteen/css/ie8.css?ver=1.4' type='text/css' media='all' />
<![endif]-->
<!--[if lt IE 8]>
<link rel='stylesheet' id='twentysixteen-ie7-css'  href='http://dacatay.com/wp-content/themes/twentysixteen/css/ie7.css?ver=1.4' type='text/css' media='all' />
<![endif]-->
<link rel="stylesheet" id="social-logos-css" href="./Part 4_ Time Series Prediction with ARIMA Models in Python - dacatay_files/social-logos.min.css" type="text/css" media="all">
<link rel="stylesheet" id="jetpack_css-css" href="./Part 4_ Time Series Prediction with ARIMA Models in Python - dacatay_files/jetpack.css" type="text/css" media="all">
<script type="text/javascript">
/* <![CDATA[ */
var theme_data = {"themeLogo":""};
/* ]]> */
</script>
<script type="text/javascript" src="./Part 4_ Time Series Prediction with ARIMA Models in Python - dacatay_files/jquery.js.download"></script>
<script type="text/javascript" src="./Part 4_ Time Series Prediction with ARIMA Models in Python - dacatay_files/jquery-migrate.min.js.download"></script>
<script type="text/javascript">
/* <![CDATA[ */
var related_posts_js_options = {"post_heading":"h4"};
/* ]]> */
</script>
<script type="text/javascript" src="./Part 4_ Time Series Prediction with ARIMA Models in Python - dacatay_files/related-posts.js.download"></script>
<script type="text/javascript">
/* <![CDATA[ */
var CrayonSyntaxSettings = {"version":"_2.7.2_beta","is_admin":"0","ajaxurl":"http:\/\/dacatay.com\/wp-admin\/admin-ajax.php","prefix":"crayon-","setting":"crayon-setting","selected":"crayon-setting-selected","changed":"crayon-setting-changed","special":"crayon-setting-special","orig_value":"data-orig-value","debug":""};
var CrayonSyntaxStrings = {"copy":"Press %s to Copy, %s to Paste","minimize":"Click To Expand Code"};
/* ]]> */
</script>
<script type="text/javascript" src="./Part 4_ Time Series Prediction with ARIMA Models in Python - dacatay_files/crayon.min.js.download"></script>
<!--[if lt IE 9]>
<script type='text/javascript' src='http://dacatay.com/wp-content/themes/twentysixteen/js/html5.js?ver=3.7.3'></script>
<![endif]-->
<link rel="https://api.w.org/" href="http://dacatay.com/wp-json/">
<link rel="EditURI" type="application/rsd+xml" title="RSD" href="http://dacatay.com/xmlrpc.php?rsd">
<link rel="wlwmanifest" type="application/wlwmanifest+xml" href="http://dacatay.com/wp-includes/wlwmanifest.xml"> 
<meta name="generator" content="WordPress 4.9.1">
<link rel="shortlink" href="https://wp.me/p9o2dy-kG">
<link rel="alternate" type="application/json+oembed" href="http://dacatay.com/wp-json/oembed/1.0/embed?url=http%3A%2F%2Fdacatay.com%2Fdata-science%2Fpart-4-time-series-prediction-arima-python%2F">
<link rel="alternate" type="text/xml+oembed" href="http://dacatay.com/wp-json/oembed/1.0/embed?url=http%3A%2F%2Fdacatay.com%2Fdata-science%2Fpart-4-time-series-prediction-arima-python%2F&amp;format=xml">
<script data-cfasync="false" src="./Part 4_ Time Series Prediction with ARIMA Models in Python - dacatay_files/saved_resource" data-sumo-platform="wordpress" data-sumo-site-id="54b53746db250ae940d5077624fc6584407414b7d479bf93efd20a416940726c" async=""></script>
<link rel="dns-prefetch" href="http://v0.wordpress.com/">
<link rel="dns-prefetch" href="http://widgets.wp.com/">
<link rel="dns-prefetch" href="http://s0.wp.com/">
<link rel="dns-prefetch" href="http://0.gravatar.com/">
<link rel="dns-prefetch" href="http://1.gravatar.com/">
<link rel="dns-prefetch" href="http://2.gravatar.com/">
<link rel="dns-prefetch" href="http://i0.wp.com/">
<link rel="dns-prefetch" href="http://i1.wp.com/">
<link rel="dns-prefetch" href="http://i2.wp.com/">
<style type="text/css">img#wpstats{display:none}</style><style type="text/css" id="custom-background-css">
body.custom-background { background-color: #3a3a3a; }
</style>
<!-- BEGIN GADWP v5.1.2.3 Universal Analytics - https://deconf.com/google-analytics-dashboard-wordpress/ -->
<script>
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
	(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
	m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
  ga('create', 'UA-104014448-1', 'auto');
  ga('send', 'pageview');
</script>
<!-- END GADWP Universal Analytics -->
<link rel="preload" href="./Part 4_ Time Series Prediction with ARIMA Models in Python - dacatay_files/integrator.js.download" as="script"><script type="text/javascript" src="./Part 4_ Time Series Prediction with ARIMA Models in Python - dacatay_files/integrator.js.download"></script><link rel="preload" href="./Part 4_ Time Series Prediction with ARIMA Models in Python - dacatay_files/integrator.js(1).download" as="script"><script type="text/javascript" src="./Part 4_ Time Series Prediction with ARIMA Models in Python - dacatay_files/integrator.js(1).download"></script><style type="text/css"></style><link rel="stylesheet" type="text/css" id="gravatar-card-css" href="./Part 4_ Time Series Prediction with ARIMA Models in Python - dacatay_files/hovercard.css"><link rel="stylesheet" type="text/css" id="gravatar-card-services-css" href="./Part 4_ Time Series Prediction with ARIMA Models in Python - dacatay_files/services.css"></head>

<body class="post-template-default single single-post postid-1282 single-format-standard custom-background" style="">
<div id="page" class="site">
	<div class="site-inner">
		<a class="skip-link screen-reader-text" href="http://dacatay.com/data-science/part-4-time-series-prediction-arima-python/#content">Skip to content</a>

		<header id="masthead" class="site-header" role="banner">
			<div class="site-header-main">
				<div class="site-branding">
					
											<p class="site-title"><a href="http://dacatay.com/" rel="home">dacatay</a></p>
											<p class="site-description">Quant and Data Science Blog</p>
									</div><!-- .site-branding -->

									<button id="menu-toggle" class="menu-toggle">Menu</button>

					<div id="site-header-menu" class="site-header-menu">
													<nav id="site-navigation" class="main-navigation" role="navigation" aria-label="Primary Menu">
								<div class="menu-primary-container"><ul id="menu-primary" class="primary-menu"><li id="menu-item-1001" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-home menu-item-1001"><a href="http://dacatay.com/">Home</a></li>
<li id="menu-item-1013" class="menu-item menu-item-type-post_type menu-item-object-page current_page_parent menu-item-1013"><a href="http://dacatay.com/blog/">Blog</a></li>
<li id="menu-item-16" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-16"><a href="http://dacatay.com/contact/">Contact</a></li>
</ul></div>							</nav><!-- .main-navigation -->
						
													<nav id="social-navigation" class="social-navigation" role="navigation" aria-label="Social Links Menu">
								<div class="menu-social-container"><ul id="menu-social" class="social-links-menu"><li id="menu-item-21" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-21"><a href="http://facebook.com/"><span class="screen-reader-text">Fb</span></a></li>
<li id="menu-item-779" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-779"><a href="http://twitter.com/"><span class="screen-reader-text">Twitter</span></a></li>
<li id="menu-item-782" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-782"><a href="http://linkedin.com/"><span class="screen-reader-text">Linkedin</span></a></li>
<li id="menu-item-1134" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-1134"><a href="http://github.com/dacatay"><span class="screen-reader-text">github</span></a></li>
</ul></div>							</nav><!-- .social-navigation -->
											</div><!-- .site-header-menu -->
							</div><!-- .site-header-main -->

											<div class="header-image">
					<a href="http://dacatay.com/" rel="home">
						<img src="./Part 4_ Time Series Prediction with ARIMA Models in Python - dacatay_files/cropped-morning-glow-2140867-e1501170411534.jpg" srcset="https://i2.wp.com/dacatay.com/wp-content/uploads/2017/07/cropped-morning-glow-2140867-e1501170411534.jpg?w=1200 1200w, https://i0.wp.com/dacatay.com/wp-content/uploads/2017/07/cropped-morning-glow-2140867-e1501170411534.jpg?resize=300%2C70 300w, https://i2.wp.com/dacatay.com/wp-content/uploads/2017/07/cropped-morning-glow-2140867-e1501170411534.jpg?resize=768%2C179 768w, https://i0.wp.com/dacatay.com/wp-content/uploads/2017/07/cropped-morning-glow-2140867-e1501170411534.jpg?resize=1024%2C238 1024w" sizes="(max-width: 709px) 85vw, (max-width: 909px) 81vw, (max-width: 1362px) 88vw, 1200px" width="1200" height="279" alt="dacatay">
					</a>
				</div><!-- .header-image -->
					</header><!-- .site-header -->

		<div id="content" class="site-content">

<div id="primary" class="content-area">
	<main id="main" class="site-main" role="main">
		
<article id="post-1282" class="post-1282 post type-post status-publish format-standard has-post-thumbnail hentry category-data-science category-python tag-arima tag-forecast tag-prediction tag-python tag-time-series tag-time-series-forecast tag-time-series-prediction">
	<header class="entry-header">
		<h1 class="entry-title">Part 4: Time Series Prediction with ARIMA Models in Python</h1>	</header><!-- .entry-header -->

	
	
	<div class="post-thumbnail">
		<img width="1200" height="900" src="./Part 4_ Time Series Prediction with ARIMA Models in Python - dacatay_files/pexels-photo-280361-e1512140713482.jpeg" class="attachment-post-thumbnail size-post-thumbnail wp-post-image" alt="" sizes="(max-width: 709px) 85vw, (max-width: 909px) 67vw, (max-width: 984px) 60vw, (max-width: 1362px) 62vw, 840px" data-attachment-id="1529" data-permalink="http://dacatay.com/data-science/part-6-time-series-prediction-neural-networks-python/attachment/pexels-photo-280361/" data-orig-file="https://i1.wp.com/dacatay.com/wp-content/uploads/2017/11/pexels-photo-280361-e1512140713482.jpeg?fit=1200%2C900" data-orig-size="1200,900" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="pexels-photo-280361" data-image-description="" data-medium-file="https://i1.wp.com/dacatay.com/wp-content/uploads/2017/11/pexels-photo-280361-e1512140713482.jpeg?fit=300%2C225" data-large-file="https://i1.wp.com/dacatay.com/wp-content/uploads/2017/11/pexels-photo-280361-e1512140713482.jpeg?fit=840%2C630">	</div><!-- .post-thumbnail -->

	
	<div class="entry-content">
		<span class="rt-reading-time" style="display: block;"><span class="rt-label">Reading Time: </span><span class="rt-time">9</span><span class="rt-label"> minutes</span></span><p>Welcome to the fourth part Time Series Prediction with ARIMA in Python of the <a href="http://dacatay.com/data-science/comprehensive-guide-time-series-analytics-visualization-prediction-python/">Comprehensive Guide on Time Series Analytics, Decomposition and Prediction with Python</a>.</p>
<p>In this part we introduce the ARIMA model and conduct in and out-of-sample predictions on our time series using the Python programming language. For maximum practicability we fit the ARIMA model to the <strong>untransformed data</strong> which allows us to extract systematic information from our time series and leave us with white noise residuals.</p>

<!-- WP QUADS Content Ad Plugin v. 1.7.2 -->
<div class="quads-location quads-ad1" id="quads-ad1" style="float:none;margin:0px;">

 <!-- WP QUADS - Quick AdSense Reloaded v.1.7.2 Content AdSense async --> 

<script async="" data-cfasync="false" src="./Part 4_ Time Series Prediction with ARIMA Models in Python - dacatay_files/adsbygoogle.js.download"></script><script type="text/javascript" data-cfasync="false">
var quads_screen_width = document.body.clientWidth;
if ( quads_screen_width >= 1140 ) {
/* desktop monitors */
document.write('<ins class="adsbygoogle" style="display:inline-block;width:300px;height:250px;" data-ad-client="ca-pub-6962034930395047" data-ad-slot="" ></ins>');
(adsbygoogle = window.adsbygoogle || []).push({});
}if ( quads_screen_width >= 1024  && quads_screen_width < 1140 ) {
/* tablet landscape */
document.write('<ins class="adsbygoogle" style="display:inline-block;width:300px;height:250px;" data-ad-client="ca-pub-6962034930395047" data-ad-slot="" ></ins>');
(adsbygoogle = window.adsbygoogle || []).push({});
}if ( quads_screen_width >= 768  && quads_screen_width < 1024 ) {
/* tablet portrait */
document.write('<ins class="adsbygoogle" style="display:inline-block;width:300px;height:250px;" data-ad-client="ca-pub-6962034930395047" data-ad-slot="" ></ins>');
(adsbygoogle = window.adsbygoogle || []).push({});
}if ( quads_screen_width < 768 ) {
/* phone */
document.write('<ins class="adsbygoogle" style="display:inline-block;width:300px;height:250px;" data-ad-client="ca-pub-6962034930395047" data-ad-slot="" ></ins>');
(adsbygoogle = window.adsbygoogle || []).push({});
}</script><ins class="adsbygoogle" style="display: inline-block; width: 300px; height: 250px;" data-ad-client="ca-pub-6962034930395047" data-ad-slot="" data-adsbygoogle-status="done"><ins id="aswift_0_expand" style="display:inline-table;border:none;height:250px;margin:0;padding:0;position:relative;visibility:visible;width:300px;background-color:transparent;"><ins id="aswift_0_anchor" style="display:block;border:none;height:250px;margin:0;padding:0;position:relative;visibility:visible;width:300px;background-color:transparent;"><iframe width="300" height="250" frameborder="0" marginwidth="0" marginheight="0" vspace="0" hspace="0" allowtransparency="true" scrolling="no" allowfullscreen="true" onload="var i=this.id,s=window.google_iframe_oncopy,H=s&amp;&amp;s.handlers,h=H&amp;&amp;H[i],w=this.contentWindow,d;try{d=w.document}catch(e){}if(h&amp;&amp;d&amp;&amp;(!d.body||!d.body.firstChild)){if(h.call){setTimeout(h,0)}else if(h.match){try{h=s.upd(h,i)}catch(e){}w.location.replace(h)}}" id="aswift_0" name="aswift_0" style="left:0;position:absolute;top:0;width:300px;height:250px;" src="./Part 4_ Time Series Prediction with ARIMA Models in Python - dacatay_files/saved_resource.html"></iframe></ins></ins></ins>

 <!-- end WP QUADS --> 


</div>

<p>The code for all calculations and graphs can be found on my <a href="https://github.com/dacatay/time-series-analysis/blob/master/02_Decomposition.ipynb">GitHub</a>.</p>
<h1>Overview</h1>
<p>You are currently in part four of the&nbsp;<a href="http://dacatay.com/data-science/comprehensive-guide-time-series-analytics-visualization-prediction-python/">Comprehensive Guide on Time Series Analytics, Decomposition and Prediction with Python</a>.</p>
<ol>
<li><a href="http://dacatay.com/uncategorized/part-1-time-series-basics-python/">Time Series Basics and Visualization</a></li>
<li><a href="http://dacatay.com/uncategorized/part-2-time-series-decomposition-python/">Visual Time Series Decomposition</a></li>
<li><a href="http://dacatay.com/uncategorized/part-3-time-series-stationarity-python/">Time Series and Stationarity</a></li>
<li><a href="http://dacatay.com/uncategorized/part-4-time-series-prediction-arima-python/">Time Series Prediction using ARIMA</a></li>
<li><a href="http://dacatay.com/uncategorized/part-5-time-series-prediction-prophet-python/">Time Series Prediction using Prophet</a></li>
<li><a href="http://dacatay.com/uncategorized/part-6-time-series-prediction-neural-networks-python/">Time Series Prediction using Neural Networks</a></li>
</ol>
<p>For this notebook we require the following modules to be loaded</p><!-- Crayon Syntax Highlighter v_2.7.2_beta -->

		<div id="crayon-5a8d751eab234889114371" class="crayon-syntax crayon-theme-classic crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style="margin-top: 12px; margin-bottom: 12px; font-size: 14px !important; line-height: 16px !important; height: auto;">
		
			<div class="crayon-plain-wrap"><textarea wrap="soft" class="crayon-plain print-no" data-settings="" readonly="" style="tab-size: 4; font-size: 14px !important; line-height: 16px !important; z-index: 0; opacity: 0; overflow: hidden;"># load required modules
import pandas as pd
import numpy as np
import matplotlib.pyplot as plt
import statsmodels.api as sm</textarea></div>
			<div class="crayon-main" style="position: relative; z-index: 1; overflow: hidden;">
				<table class="crayon-table" style="">
					<tbody><tr class="crayon-row">
				<td class="crayon-nums " data-settings="show">
					<div class="crayon-nums-content" style="font-size: 14px !important; line-height: 16px !important;"><div class="crayon-num" data-line="crayon-5a8d751eab234889114371-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a8d751eab234889114371-2">2</div><div class="crayon-num" data-line="crayon-5a8d751eab234889114371-3">3</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a8d751eab234889114371-4">4</div><div class="crayon-num" data-line="crayon-5a8d751eab234889114371-5">5</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 14px !important; line-height: 16px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-5a8d751eab234889114371-1"><span class="crayon-c"># load required modules</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a8d751eab234889114371-2"><span class="crayon-r">import</span><span class="crayon-h"> </span><span class="crayon-e">pandas </span><span class="crayon-st">as</span><span class="crayon-h"> </span><span class="crayon-e">pd</span></div><div class="crayon-line" id="crayon-5a8d751eab234889114371-3"><span class="crayon-r">import</span><span class="crayon-h"> </span><span class="crayon-e">numpy </span><span class="crayon-st">as</span><span class="crayon-h"> </span><span class="crayon-e">np</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a8d751eab234889114371-4"><span class="crayon-r">import</span><span class="crayon-h"> </span><span class="crayon-v">matplotlib</span><span class="crayon-sy">.</span><span class="crayon-e">pyplot </span><span class="crayon-st">as</span><span class="crayon-h"> </span><span class="crayon-e">plt</span></div><div class="crayon-line" id="crayon-5a8d751eab234889114371-5"><span class="crayon-r">import</span><span class="crayon-h"> </span><span class="crayon-v">statsmodels</span><span class="crayon-sy">.</span><span class="crayon-e">api </span><span class="crayon-st">as</span><span class="crayon-h"> </span><span class="crayon-v">sm</span></div></div></td>
					</tr>
				</tbody></table>
			</div>
		</div>
<!-- [Format Time: 0.0008 seconds] -->
<p>The whole series will use the international airline passenger data set of Box and Jenkins (1973). It can be found freely on the web or in <a href="https://github.com/dacatay/time-series-analysis/tree/master/data">this GitHub repository</a>.</p><!-- Crayon Syntax Highlighter v_2.7.2_beta -->

		<div id="crayon-5a8d751eab23a809790327" class="crayon-syntax crayon-theme-classic crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style="margin-top: 12px; margin-bottom: 12px; font-size: 14px !important; line-height: 16px !important; height: auto;">
		
			<div class="crayon-plain-wrap"><textarea wrap="soft" class="crayon-plain print-no" data-settings="" readonly="" style="tab-size: 4; font-size: 14px !important; line-height: 16px !important; z-index: 0; opacity: 0; overflow: hidden;"># load passenger data set and save to DataFrame
df = pd.read_csv('./data/passengers.csv', header=0, index_col=0, parse_dates=True, sep=';')

# create Series object
y = df['n_passengers']</textarea></div>
			<div class="crayon-main" style="position: relative; z-index: 1; overflow: hidden;">
				<table class="crayon-table" style="">
					<tbody><tr class="crayon-row">
				<td class="crayon-nums " data-settings="show">
					<div class="crayon-nums-content" style="font-size: 14px !important; line-height: 16px !important;"><div class="crayon-num" data-line="crayon-5a8d751eab23a809790327-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a8d751eab23a809790327-2">2</div><div class="crayon-num" data-line="crayon-5a8d751eab23a809790327-3">3</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a8d751eab23a809790327-4">4</div><div class="crayon-num" data-line="crayon-5a8d751eab23a809790327-5">5</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 14px !important; line-height: 16px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-5a8d751eab23a809790327-1"><span class="crayon-c"># load passenger data set and save to DataFrame</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a8d751eab23a809790327-2"><span class="crayon-v">df</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">pd</span><span class="crayon-sy">.</span><span class="crayon-e">read_csv</span><span class="crayon-sy">(</span><span class="crayon-s">'./data/passengers.csv'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">header</span><span class="crayon-o">=</span><span class="crayon-cn">0</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">index_col</span><span class="crayon-o">=</span><span class="crayon-cn">0</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">parse_dates</span><span class="crayon-o">=</span><span class="crayon-t">True</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">sep</span><span class="crayon-o">=</span><span class="crayon-s">';'</span><span class="crayon-sy">)</span></div><div class="crayon-line" id="crayon-5a8d751eab23a809790327-3">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5a8d751eab23a809790327-4"><span class="crayon-c"># create Series object</span></div><div class="crayon-line" id="crayon-5a8d751eab23a809790327-5"><span class="crayon-v">y</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">df</span><span class="crayon-sy">[</span><span class="crayon-s">'n_passengers'</span><span class="crayon-sy">]</span></div></div></td>
					</tr>
				</tbody></table>
			</div>
		</div>
<!-- [Format Time: 0.0007 seconds] -->
<p></p>
<h1>ARIMA Forecasting</h1>
<p>An autoregressive integrated moving average (ARIMA) model is an generalization of an autoregressive moving average (ARMA) model. ARIMA models are applied in some cases where data show evidence of non-stationarity, where an initial differencing step (corresponding to the “integrated” part of the model) can be applied one or more times to eliminate the non-stationarity. – <a href="https://en.wikipedia.org/wiki/Autoregressive_integrated_moving_average">Wikipedia</a></p>
<p>In the base model there are three parameters <img src="./Part 4_ Time Series Prediction with ARIMA Models in Python - dacatay_files/latex.php" alt="(p, d, q)" title="(p, d, q)" class="latex"> that are used to parametrize ARIMA models</p>
<ul>
<li>autoregressive component <img src="./Part 4_ Time Series Prediction with ARIMA Models in Python - dacatay_files/latex(1).php" alt="p" title="p" class="latex"></li>
<li>integration component&nbsp;<img src="./Part 4_ Time Series Prediction with ARIMA Models in Python - dacatay_files/latex(2).php" alt="d" title="d" class="latex"></li>
<li>moveing average component&nbsp;<img src="./Part 4_ Time Series Prediction with ARIMA Models in Python - dacatay_files/latex(3).php" alt="q" title="q" class="latex"></li>
</ul>
<p>Hence, an ARIMA model is denoted as <img src="./Part 4_ Time Series Prediction with ARIMA Models in Python - dacatay_files/latex(4).php" alt="ARIMA(p, d, q)" title="ARIMA(p, d, q)" class="latex"> and is defined by</p>
<p style="text-align: center;"><img src="./Part 4_ Time Series Prediction with ARIMA Models in Python - dacatay_files/latex(5).php" alt="\left(1 - \sum_{i=1}^p \phi_i L^i \right) (1 - L)^d y_t = \mu + \left(1 + \sum_{i=1}^q \theta_i L^i \right) \varepsilon_t" title="\left(1 - \sum_{i=1}^p \phi_i L^i \right) (1 - L)^d y_t = \mu + \left(1 + \sum_{i=1}^q \theta_i L^i \right) \varepsilon_t" class="latex"></p>
<p>where <img src="./Part 4_ Time Series Prediction with ARIMA Models in Python - dacatay_files/latex(6).php" alt="L" title="L" class="latex"> denotes the <strong>lag operator</strong>. The lag operator performs a lagged transformation of a variable with time index like <img src="./Part 4_ Time Series Prediction with ARIMA Models in Python - dacatay_files/latex(7).php" alt="y_t L^d = y_{t-d}" title="y_t L^d = y_{t-d}" class="latex">. Each of these three parts is an effort to make the time series stationary, i. e. make the final residual a white noise pattern.</p><!-- Crayon Syntax Highlighter v_2.7.2_beta -->

		<div id="crayon-5a8d751eab23d571456054" class="crayon-syntax crayon-theme-classic crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style="margin-top: 12px; margin-bottom: 12px; font-size: 14px !important; line-height: 16px !important; height: auto;">
		
			<div class="crayon-plain-wrap"><textarea wrap="soft" class="crayon-plain print-no" data-settings="" readonly="" style="tab-size: 4; font-size: 14px !important; line-height: 16px !important; z-index: 0; opacity: 0; overflow: hidden;"># split into training and test sets
y = df['n_passengers']
y_train = y[:'1958']
y_test = y['1959':]</textarea></div>
			<div class="crayon-main" style="position: relative; z-index: 1; overflow: hidden;">
				<table class="crayon-table" style="">
					<tbody><tr class="crayon-row">
				<td class="crayon-nums " data-settings="show">
					<div class="crayon-nums-content" style="font-size: 14px !important; line-height: 16px !important;"><div class="crayon-num" data-line="crayon-5a8d751eab23d571456054-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a8d751eab23d571456054-2">2</div><div class="crayon-num" data-line="crayon-5a8d751eab23d571456054-3">3</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a8d751eab23d571456054-4">4</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 14px !important; line-height: 16px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-5a8d751eab23d571456054-1"><span class="crayon-c"># split into training and test sets</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a8d751eab23d571456054-2"><span class="crayon-v">y</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">df</span><span class="crayon-sy">[</span><span class="crayon-s">'n_passengers'</span><span class="crayon-sy">]</span></div><div class="crayon-line" id="crayon-5a8d751eab23d571456054-3"><span class="crayon-v">y_train</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">y</span><span class="crayon-sy">[</span><span class="crayon-o">:</span><span class="crayon-s">'1958'</span><span class="crayon-sy">]</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a8d751eab23d571456054-4"><span class="crayon-v">y_test</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">y</span><span class="crayon-sy">[</span><span class="crayon-s">'1959'</span><span class="crayon-o">:</span><span class="crayon-sy">]</span></div></div></td>
					</tr>
				</tbody></table>
			</div>
		</div>
<!-- [Format Time: 0.0004 seconds] -->
<p></p>
<h2>Model Selection</h2>
<p>To fit the time series data to a seasonal ARIMA model with parameters <img src="./Part 4_ Time Series Prediction with ARIMA Models in Python - dacatay_files/latex(8).php" alt="ARIMA(p, d, q)(P, D, Q)s" title="ARIMA(p, d, q)(P, D, Q)s" class="latex"> we need to find the optimal parameter setting that strips away the systematic information and leaves us with white noise residuals. Thus for selecting the appropriate model we will use <strong>grid search</strong>, i.e. the iterative exploration of all possible parameters constellations.</p>
<p>Depending on the total number of assumed model parameters <img src="./Part 4_ Time Series Prediction with ARIMA Models in Python - dacatay_files/latex(9).php" alt="(p, d, q)(P, D, Q)s" title="(p, d, q)(P, D, Q)s" class="latex"> this can become an computationally costly task. As of writing this article there is no way of doing this automatically in Python we have to resort to doing this ourselves. The code below creates lists, <code>pdq</code> and <code>pdq_seasonal</code>, which contain all possible parameter constellations that the SARIMAX model can take.</p><!-- Crayon Syntax Highlighter v_2.7.2_beta -->

		<div id="crayon-5a8d751eab240141558597" class="crayon-syntax crayon-theme-classic crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style="margin-top: 12px; margin-bottom: 12px; font-size: 14px !important; line-height: 16px !important; height: auto;">
		
			<div class="crayon-plain-wrap"><textarea wrap="soft" class="crayon-plain print-no" data-settings="" readonly="" style="tab-size: 4; font-size: 14px !important; line-height: 16px !important; z-index: 0; opacity: 0; overflow: hidden;"># define the p, d and q parameters to take any value between 0 and 2
p = d = q = range(0, 3)

# generate all different combinations of p, d and q triplets
pdq = list(itertools.product(p, d, q))

# generate all different combinations of seasonal p, q and q triplets
seasonal_pdq = [(x[0], x[1], x[2], 12) for x in list(itertools.product(p, d, q))]</textarea></div>
			<div class="crayon-main" style="position: relative; z-index: 1; overflow: hidden;">
				<table class="crayon-table" style="">
					<tbody><tr class="crayon-row">
				<td class="crayon-nums " data-settings="show">
					<div class="crayon-nums-content" style="font-size: 14px !important; line-height: 16px !important;"><div class="crayon-num" data-line="crayon-5a8d751eab240141558597-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a8d751eab240141558597-2">2</div><div class="crayon-num" data-line="crayon-5a8d751eab240141558597-3">3</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a8d751eab240141558597-4">4</div><div class="crayon-num" data-line="crayon-5a8d751eab240141558597-5">5</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a8d751eab240141558597-6">6</div><div class="crayon-num" data-line="crayon-5a8d751eab240141558597-7">7</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a8d751eab240141558597-8">8</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 14px !important; line-height: 16px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-5a8d751eab240141558597-1"><span class="crayon-c"># define the p, d and q parameters to take any value between 0 and 2</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a8d751eab240141558597-2"><span class="crayon-v">p</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">d</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">q</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-k ">range</span><span class="crayon-sy">(</span><span class="crayon-cn">0</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-cn">3</span><span class="crayon-sy">)</span></div><div class="crayon-line" id="crayon-5a8d751eab240141558597-3">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5a8d751eab240141558597-4"><span class="crayon-c"># generate all different combinations of p, d and q triplets</span></div><div class="crayon-line" id="crayon-5a8d751eab240141558597-5"><span class="crayon-v">pdq</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-k ">list</span><span class="crayon-sy">(</span><span class="crayon-k ">itertools</span><span class="crayon-sy">.</span><span class="crayon-e">product</span><span class="crayon-sy">(</span><span class="crayon-v">p</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">d</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">q</span><span class="crayon-sy">)</span><span class="crayon-sy">)</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a8d751eab240141558597-6">&nbsp;</div><div class="crayon-line" id="crayon-5a8d751eab240141558597-7"><span class="crayon-c"># generate all different combinations of seasonal p, q and q triplets</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a8d751eab240141558597-8"><span class="crayon-v">seasonal_pdq</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-sy">[</span><span class="crayon-sy">(</span><span class="crayon-v">x</span><span class="crayon-sy">[</span><span class="crayon-cn">0</span><span class="crayon-sy">]</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">x</span><span class="crayon-sy">[</span><span class="crayon-cn">1</span><span class="crayon-sy">]</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">x</span><span class="crayon-sy">[</span><span class="crayon-cn">2</span><span class="crayon-sy">]</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-cn">12</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-st">for</span><span class="crayon-h"> </span><span class="crayon-i">x</span><span class="crayon-h"> </span><span class="crayon-st">in</span><span class="crayon-h"> </span><span class="crayon-k ">list</span><span class="crayon-sy">(</span><span class="crayon-k ">itertools</span><span class="crayon-sy">.</span><span class="crayon-e">product</span><span class="crayon-sy">(</span><span class="crayon-v">p</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">d</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">q</span><span class="crayon-sy">)</span><span class="crayon-sy">)</span><span class="crayon-sy">]</span></div></div></td>
					</tr>
				</tbody></table>
			</div>
		</div>
<!-- [Format Time: 0.0014 seconds] -->
<p>To find the best fitting model we iteratively create a SARIMAX model with a given parameter constellation and fit the data to it. For each of these models we compute the <strong>Akaike Information Criterion (AIC)</strong> and eventually choose the model for which the fitted data results in the lowest AIC.</p><!-- Crayon Syntax Highlighter v_2.7.2_beta -->

		<div id="crayon-5a8d751eab242963531162" class="crayon-syntax crayon-theme-classic crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style="margin-top: 12px; margin-bottom: 12px; font-size: 14px !important; line-height: 16px !important; height: auto;">
		
			<div class="crayon-plain-wrap"><textarea wrap="soft" class="crayon-plain print-no" data-settings="" readonly="" style="tab-size: 4; font-size: 14px !important; line-height: 16px !important; z-index: 0; opacity: 0; overflow: hidden;">best_aic = np.inf
best_pdq = None
best_seasonal_pdq = None
tmp_model = None
best_mdl = None

for param in pdq:
    for param_seasonal in seasonal_pdq:
        try:
            tmp_mdl = sm.tsa.statespace.SARIMAX(y_train,
                                                order = param,
                                                seasonal_order = param_seasonal,
                                                enforce_stationarity=True,
                                                enforce_invertibility=True)
            res = tmp_mdl.fit()
            if res.aic &lt; best_aic:
                best_aic = res.aic
                best_pdq = param
                best_seasonal_pdq = param_seasonal
                best_mdl = tmp_mdl
        except:
            print("Unexpected error:", sys.exc_info()[0])
            continue
print("Best SARIMAX{}x{}12 model - AIC:{}".format(best_pdq, best_seasonal_pdq, best_aic))</textarea></div>
			<div class="crayon-main" style="position: relative; z-index: 1; overflow: hidden;">
				<table class="crayon-table" style="">
					<tbody><tr class="crayon-row">
				<td class="crayon-nums " data-settings="show">
					<div class="crayon-nums-content" style="font-size: 14px !important; line-height: 16px !important;"><div class="crayon-num" data-line="crayon-5a8d751eab242963531162-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a8d751eab242963531162-2">2</div><div class="crayon-num" data-line="crayon-5a8d751eab242963531162-3">3</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a8d751eab242963531162-4">4</div><div class="crayon-num" data-line="crayon-5a8d751eab242963531162-5">5</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a8d751eab242963531162-6">6</div><div class="crayon-num" data-line="crayon-5a8d751eab242963531162-7">7</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a8d751eab242963531162-8">8</div><div class="crayon-num" data-line="crayon-5a8d751eab242963531162-9">9</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a8d751eab242963531162-10">10</div><div class="crayon-num" data-line="crayon-5a8d751eab242963531162-11">11</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a8d751eab242963531162-12">12</div><div class="crayon-num" data-line="crayon-5a8d751eab242963531162-13">13</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a8d751eab242963531162-14">14</div><div class="crayon-num" data-line="crayon-5a8d751eab242963531162-15">15</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a8d751eab242963531162-16">16</div><div class="crayon-num" data-line="crayon-5a8d751eab242963531162-17">17</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a8d751eab242963531162-18">18</div><div class="crayon-num" data-line="crayon-5a8d751eab242963531162-19">19</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a8d751eab242963531162-20">20</div><div class="crayon-num" data-line="crayon-5a8d751eab242963531162-21">21</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a8d751eab242963531162-22">22</div><div class="crayon-num" data-line="crayon-5a8d751eab242963531162-23">23</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a8d751eab242963531162-24">24</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 14px !important; line-height: 16px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-5a8d751eab242963531162-1"><span class="crayon-v">best_aic</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">np</span><span class="crayon-sy">.</span><span class="crayon-e">inf</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a8d751eab242963531162-2"><span class="crayon-v">best_pdq</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-t">None</span></div><div class="crayon-line" id="crayon-5a8d751eab242963531162-3"><span class="crayon-v">best_seasonal_pdq</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-t">None</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a8d751eab242963531162-4"><span class="crayon-v">tmp_model</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-t">None</span></div><div class="crayon-line" id="crayon-5a8d751eab242963531162-5"><span class="crayon-v">best_mdl</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-t">None</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a8d751eab242963531162-6">&nbsp;</div><div class="crayon-line" id="crayon-5a8d751eab242963531162-7"><span class="crayon-st">for</span><span class="crayon-h"> </span><span class="crayon-e">param </span><span class="crayon-st">in</span><span class="crayon-h"> </span><span class="crayon-v">pdq</span><span class="crayon-o">:</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a8d751eab242963531162-8"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">for</span><span class="crayon-h"> </span><span class="crayon-e">param_seasonal </span><span class="crayon-st">in</span><span class="crayon-h"> </span><span class="crayon-v">seasonal_pdq</span><span class="crayon-o">:</span></div><div class="crayon-line" id="crayon-5a8d751eab242963531162-9"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">try</span><span class="crayon-o">:</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a8d751eab242963531162-10"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">tmp_mdl</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">sm</span><span class="crayon-sy">.</span><span class="crayon-v">tsa</span><span class="crayon-sy">.</span><span class="crayon-v">statespace</span><span class="crayon-sy">.</span><span class="crayon-e">SARIMAX</span><span class="crayon-sy">(</span><span class="crayon-v">y_train</span><span class="crayon-sy">,</span></div><div class="crayon-line" id="crayon-5a8d751eab242963531162-11"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">order</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">param</span><span class="crayon-sy">,</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a8d751eab242963531162-12"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">seasonal_order</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">param_seasonal</span><span class="crayon-sy">,</span></div><div class="crayon-line" id="crayon-5a8d751eab242963531162-13"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">enforce_stationarity</span><span class="crayon-o">=</span><span class="crayon-t">True</span><span class="crayon-sy">,</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a8d751eab242963531162-14"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">enforce_invertibility</span><span class="crayon-o">=</span><span class="crayon-t">True</span><span class="crayon-sy">)</span></div><div class="crayon-line" id="crayon-5a8d751eab242963531162-15"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">res</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">tmp_mdl</span><span class="crayon-sy">.</span><span class="crayon-e">fit</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a8d751eab242963531162-16"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">if</span><span class="crayon-h"> </span><span class="crayon-v">res</span><span class="crayon-sy">.</span><span class="crayon-v">aic</span><span class="crayon-h"> </span><span class="crayon-o">&lt;</span><span class="crayon-h"> </span><span class="crayon-v">best_aic</span><span class="crayon-o">:</span></div><div class="crayon-line" id="crayon-5a8d751eab242963531162-17"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">best_aic</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">res</span><span class="crayon-sy">.</span><span class="crayon-e">aic</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a8d751eab242963531162-18"><span class="crayon-e">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">best_pdq</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-e">param</span></div><div class="crayon-line" id="crayon-5a8d751eab242963531162-19"><span class="crayon-e">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">best_seasonal_pdq</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-e">param_seasonal</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a8d751eab242963531162-20"><span class="crayon-e">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">best_mdl</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-e">tmp_mdl</span></div><div class="crayon-line" id="crayon-5a8d751eab242963531162-21"><span class="crayon-e">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">except</span><span class="crayon-o">:</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a8d751eab242963531162-22"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-k ">print</span><span class="crayon-sy">(</span><span class="crayon-s">"Unexpected error:"</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-k ">sys</span><span class="crayon-sy">.</span><span class="crayon-e">exc_info</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">[</span><span class="crayon-cn">0</span><span class="crayon-sy">]</span><span class="crayon-sy">)</span></div><div class="crayon-line" id="crayon-5a8d751eab242963531162-23"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">continue</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a8d751eab242963531162-24"><span class="crayon-k ">print</span><span class="crayon-sy">(</span><span class="crayon-s">"Best SARIMAX{}x{}12 model - AIC:{}"</span><span class="crayon-sy">.</span><span class="crayon-k ">format</span><span class="crayon-sy">(</span><span class="crayon-v">best_pdq</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">best_seasonal_pdq</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">best_aic</span><span class="crayon-sy">)</span><span class="crayon-sy">)</span></div></div></td>
					</tr>
				</tbody></table>
			</div>
		</div>
<!-- [Format Time: 0.0027 seconds] -->
<p></p><!-- Crayon Syntax Highlighter v_2.7.2_beta -->

		<div id="crayon-5a8d751eab244651798066" class="crayon-syntax crayon-theme-classic crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style="margin-top: 12px; margin-bottom: 12px; font-size: 14px !important; line-height: 16px !important; height: auto;">
		
			<div class="crayon-plain-wrap"><textarea wrap="soft" class="crayon-plain print-no" data-settings="" readonly="" style="tab-size: 4; font-size: 14px !important; line-height: 16px !important; z-index: 0; opacity: 0; overflow: hidden;">Best SARIMAX[1, 1, 0]x[1, 2, 1, 12]12 model - AIC:727.3256892834611</textarea></div>
			<div class="crayon-main" style="position: relative; z-index: 1; overflow: hidden;">
				<table class="crayon-table" style="">
					<tbody><tr class="crayon-row">
				<td class="crayon-nums " data-settings="show">
					<div class="crayon-nums-content" style="font-size: 14px !important; line-height: 16px !important;"><div class="crayon-num" data-line="crayon-5a8d751eab244651798066-1">1</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 14px !important; line-height: 16px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-5a8d751eab244651798066-1"><span class="crayon-e">Best </span><span class="crayon-v">SARIMAX</span><span class="crayon-sy">[</span><span class="crayon-cn">1</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-cn">1</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-cn">0</span><span class="crayon-sy">]</span><span class="crayon-v">x</span><span class="crayon-sy">[</span><span class="crayon-cn">1</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-cn">2</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-cn">1</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-cn">12</span><span class="crayon-sy">]</span><span class="crayon-cn">12</span><span class="crayon-h"> </span><span class="crayon-v">model</span><span class="crayon-h"> </span><span class="crayon-o">-</span><span class="crayon-h"> </span><span class="crayon-v">AIC</span><span class="crayon-o">:</span><span class="crayon-cn">727.3256892834611</span></div></div></td>
					</tr>
				</tbody></table>
			</div>
		</div>
<!-- [Format Time: 0.0005 seconds] -->
<p></p>
<h2>The Akaike Information Criterion</h2>
<p>The Akaike information criterion (AIC) is a measure of the relative quality of statistical models for a given set of data. Given a collection of models for the data, AIC estimates the quality of each model, relative to each of the other models. Hence, AIC provides a means for model selection. – <a href="https://en.wikipedia.org/wiki/Akaike_information_criterion">Wikipedia</a></p>
<p>It measures the trade-off between the goodness of fit of the model and the complexity of the model (number of included and estimated aprameters). The AIC is calculated as follows</p>
<p style="text-align: center;"><img src="./Part 4_ Time Series Prediction with ARIMA Models in Python - dacatay_files/latex(10).php" alt="AIC = 2k - 2ln(L)" title="AIC = 2k - 2ln(L)" class="latex"></p>
<p>where <img src="./Part 4_ Time Series Prediction with ARIMA Models in Python - dacatay_files/latex(11).php" alt="k" title="k" class="latex">$s=1 corresponds to the number of estimated parameters in the model and $L$ refers to the maximum value of the likelihood function for the model. It is important to note that the AIC only measures the in-sample model fit of the data given for training.</p>
<h1>ARIMA Model Fitting</h1>
<p>The grid search found that the best model is a seasonal ARIMA model with <code>ARIMA(1, 1, 0)(1, 2, 1)12</code> for <code>y_test</code>. The SARIMAX model will be trained on the training data <code>y_train</code> under the optimal parameter setting obtained from the grid search. If the seasonal order is not given, the standard ARIMA model will be applied to the input data.</p><!-- Crayon Syntax Highlighter v_2.7.2_beta -->

		<div id="crayon-5a8d751eab247861414165" class="crayon-syntax crayon-theme-classic crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style="margin-top: 12px; margin-bottom: 12px; font-size: 14px !important; line-height: 16px !important; height: auto;">
		
			<div class="crayon-plain-wrap"><textarea wrap="soft" class="crayon-plain print-no" data-settings="" readonly="" style="tab-size: 4; font-size: 14px !important; line-height: 16px !important; z-index: 0; opacity: 0; overflow: hidden;"># define SARIMAX model and fit it to the data
mdl = sm.tsa.statespace.SARIMAX(y_train,
                                order=(1, 1, 0),
                                seasonal_order=(1, 2, 1, 12),
                                enforce_stationarity=True,
                                enforce_invertibility=True)
res = mdl.fit()</textarea></div>
			<div class="crayon-main" style="position: relative; z-index: 1; overflow: hidden;">
				<table class="crayon-table" style="">
					<tbody><tr class="crayon-row">
				<td class="crayon-nums " data-settings="show">
					<div class="crayon-nums-content" style="font-size: 14px !important; line-height: 16px !important;"><div class="crayon-num" data-line="crayon-5a8d751eab247861414165-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a8d751eab247861414165-2">2</div><div class="crayon-num" data-line="crayon-5a8d751eab247861414165-3">3</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a8d751eab247861414165-4">4</div><div class="crayon-num" data-line="crayon-5a8d751eab247861414165-5">5</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a8d751eab247861414165-6">6</div><div class="crayon-num" data-line="crayon-5a8d751eab247861414165-7">7</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 14px !important; line-height: 16px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-5a8d751eab247861414165-1"><span class="crayon-c"># define SARIMAX model and fit it to the data</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a8d751eab247861414165-2"><span class="crayon-v">mdl</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">sm</span><span class="crayon-sy">.</span><span class="crayon-v">tsa</span><span class="crayon-sy">.</span><span class="crayon-v">statespace</span><span class="crayon-sy">.</span><span class="crayon-e">SARIMAX</span><span class="crayon-sy">(</span><span class="crayon-v">y_train</span><span class="crayon-sy">,</span></div><div class="crayon-line" id="crayon-5a8d751eab247861414165-3"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">order</span><span class="crayon-o">=</span><span class="crayon-sy">(</span><span class="crayon-cn">1</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-cn">1</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-cn">0</span><span class="crayon-sy">)</span><span class="crayon-sy">,</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a8d751eab247861414165-4"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">seasonal_order</span><span class="crayon-o">=</span><span class="crayon-sy">(</span><span class="crayon-cn">1</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-cn">2</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-cn">1</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-cn">12</span><span class="crayon-sy">)</span><span class="crayon-sy">,</span></div><div class="crayon-line" id="crayon-5a8d751eab247861414165-5"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">enforce_stationarity</span><span class="crayon-o">=</span><span class="crayon-t">True</span><span class="crayon-sy">,</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a8d751eab247861414165-6"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">enforce_invertibility</span><span class="crayon-o">=</span><span class="crayon-t">True</span><span class="crayon-sy">)</span></div><div class="crayon-line" id="crayon-5a8d751eab247861414165-7"><span class="crayon-v">res</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">mdl</span><span class="crayon-sy">.</span><span class="crayon-e">fit</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span></div></div></td>
					</tr>
				</tbody></table>
			</div>
		</div>
<!-- [Format Time: 0.0011 seconds] -->
<p>The <code>summary</code> attribute from the SARIMAX output returns a large amount of information, however,we’ll focus our attention on the table of coefficients.</p><!-- Crayon Syntax Highlighter v_2.7.2_beta -->

		<div id="crayon-5a8d751eab24a250465751" class="crayon-syntax crayon-theme-classic crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style="margin-top: 12px; margin-bottom: 12px; font-size: 14px !important; line-height: 16px !important; height: auto;">
		
			<div class="crayon-plain-wrap"><textarea wrap="soft" class="crayon-plain print-no" data-settings="" readonly="" style="tab-size: 4; font-size: 14px !important; line-height: 16px !important; z-index: 0; opacity: 0; overflow: hidden;"># print statistics
print(res.aic)
print(res.summary())</textarea></div>
			<div class="crayon-main" style="position: relative; z-index: 1; overflow: hidden;">
				<table class="crayon-table" style="">
					<tbody><tr class="crayon-row">
				<td class="crayon-nums " data-settings="show">
					<div class="crayon-nums-content" style="font-size: 14px !important; line-height: 16px !important;"><div class="crayon-num" data-line="crayon-5a8d751eab24a250465751-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a8d751eab24a250465751-2">2</div><div class="crayon-num" data-line="crayon-5a8d751eab24a250465751-3">3</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 14px !important; line-height: 16px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-5a8d751eab24a250465751-1"><span class="crayon-c"># print statistics</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a8d751eab24a250465751-2"><span class="crayon-k ">print</span><span class="crayon-sy">(</span><span class="crayon-v">res</span><span class="crayon-sy">.</span><span class="crayon-v">aic</span><span class="crayon-sy">)</span></div><div class="crayon-line" id="crayon-5a8d751eab24a250465751-3"><span class="crayon-k ">print</span><span class="crayon-sy">(</span><span class="crayon-v">res</span><span class="crayon-sy">.</span><span class="crayon-e">summary</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">)</span></div></div></td>
					</tr>
				</tbody></table>
			</div>
		</div>
<!-- [Format Time: 0.0003 seconds] -->
<p></p>
<p></p><!-- Crayon Syntax Highlighter v_2.7.2_beta -->

		<div id="crayon-5a8d751eab24c092476399" class="crayon-syntax crayon-theme-classic crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style="margin-top: 12px; margin-bottom: 12px; font-size: 14px !important; line-height: 16px !important; height: auto;">
		
			<div class="crayon-plain-wrap"><textarea wrap="soft" class="crayon-plain print-no" data-settings="" readonly="" style="tab-size: 4; font-size: 14px !important; line-height: 16px !important; z-index: 0; opacity: 0; overflow: hidden;">                                 Statespace Model Results                                 
==========================================================================================
Dep. Variable:                       n_passengers   No. Observations:                  120
Model:             SARIMAX(1, 1, 0)x(1, 2, 1, 12)   Log Likelihood                -359.663
Date:                            Thu, 30 Nov 2017   AIC                            727.326
Time:                                    14:51:32   BIC                            738.476
Sample:                                01-01-1949   HQIC                           731.854
                                     - 12-01-1958                                         
Covariance Type:                              opg                                         
==============================================================================
                 coef    std err          z      P&amp;amp;gt;|z|      [0.025      0.975]
------------------------------------------------------------------------------
ar.L1         -0.3570      0.091     -3.909      0.000      -0.536      -0.178
ar.S.L12      -0.2319      0.124     -1.868      0.062      -0.475       0.011
ma.S.L12      -0.9095      0.459     -1.981      0.048      -1.809      -0.010
sigma2        88.5375     28.781      3.076      0.002      32.128     144.947
===================================================================================
Ljung-Box (Q):                       32.48   Jarque-Bera (JB):                 0.35
Prob(Q):                              0.79   Prob(JB):                         0.84
Heteroskedasticity (H):               0.83   Skew:                             0.14
Prob(H) (two-sided):                  0.61   Kurtosis:                         3.10
===================================================================================</textarea></div>
			<div class="crayon-main" style="position: relative; z-index: 1; overflow: hidden;">
				<table class="crayon-table" style="">
					<tbody><tr class="crayon-row">
				<td class="crayon-nums " data-settings="show">
					<div class="crayon-nums-content" style="font-size: 14px !important; line-height: 16px !important;"><div class="crayon-num" data-line="crayon-5a8d751eab24c092476399-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a8d751eab24c092476399-2">2</div><div class="crayon-num" data-line="crayon-5a8d751eab24c092476399-3">3</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a8d751eab24c092476399-4">4</div><div class="crayon-num" data-line="crayon-5a8d751eab24c092476399-5">5</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a8d751eab24c092476399-6">6</div><div class="crayon-num" data-line="crayon-5a8d751eab24c092476399-7">7</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a8d751eab24c092476399-8">8</div><div class="crayon-num" data-line="crayon-5a8d751eab24c092476399-9">9</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a8d751eab24c092476399-10">10</div><div class="crayon-num" data-line="crayon-5a8d751eab24c092476399-11">11</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a8d751eab24c092476399-12">12</div><div class="crayon-num" data-line="crayon-5a8d751eab24c092476399-13">13</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a8d751eab24c092476399-14">14</div><div class="crayon-num" data-line="crayon-5a8d751eab24c092476399-15">15</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a8d751eab24c092476399-16">16</div><div class="crayon-num" data-line="crayon-5a8d751eab24c092476399-17">17</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a8d751eab24c092476399-18">18</div><div class="crayon-num" data-line="crayon-5a8d751eab24c092476399-19">19</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a8d751eab24c092476399-20">20</div><div class="crayon-num" data-line="crayon-5a8d751eab24c092476399-21">21</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a8d751eab24c092476399-22">22</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 14px !important; line-height: 16px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-5a8d751eab24c092476399-1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Statespace Model Results&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </div><div class="crayon-line crayon-striped-line" id="crayon-5a8d751eab24c092476399-2">==========================================================================================</div><div class="crayon-line" id="crayon-5a8d751eab24c092476399-3">Dep. Variable:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; n_passengers&nbsp;&nbsp; No. Observations:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;120</div><div class="crayon-line crayon-striped-line" id="crayon-5a8d751eab24c092476399-4">Model:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; SARIMAX(1, 1, 0)x(1, 2, 1, 12)&nbsp;&nbsp; Log Likelihood&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-359.663</div><div class="crayon-line" id="crayon-5a8d751eab24c092476399-5">Date:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Thu, 30 Nov 2017&nbsp;&nbsp; AIC&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;727.326</div><div class="crayon-line crayon-striped-line" id="crayon-5a8d751eab24c092476399-6">Time:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;14:51:32&nbsp;&nbsp; BIC&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;738.476</div><div class="crayon-line" id="crayon-5a8d751eab24c092476399-7">Sample:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;01-01-1949&nbsp;&nbsp; HQIC&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 731.854</div><div class="crayon-line crayon-striped-line" id="crayon-5a8d751eab24c092476399-8">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; - 12-01-1958&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </div><div class="crayon-line" id="crayon-5a8d751eab24c092476399-9">Covariance Type:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;opg&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </div><div class="crayon-line crayon-striped-line" id="crayon-5a8d751eab24c092476399-10">==============================================================================</div><div class="crayon-line" id="crayon-5a8d751eab24c092476399-11">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; coef&nbsp;&nbsp;&nbsp;&nbsp;std err&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;z&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;P&amp;amp;gt;|z|&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[0.025&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;0.975]</div><div class="crayon-line crayon-striped-line" id="crayon-5a8d751eab24c092476399-12">------------------------------------------------------------------------------</div><div class="crayon-line" id="crayon-5a8d751eab24c092476399-13">ar.L1&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; -0.3570&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;0.091&nbsp;&nbsp;&nbsp;&nbsp; -3.909&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;0.000&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-0.536&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-0.178</div><div class="crayon-line crayon-striped-line" id="crayon-5a8d751eab24c092476399-14">ar.S.L12&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-0.2319&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;0.124&nbsp;&nbsp;&nbsp;&nbsp; -1.868&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;0.062&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-0.475&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 0.011</div><div class="crayon-line" id="crayon-5a8d751eab24c092476399-15">ma.S.L12&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-0.9095&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;0.459&nbsp;&nbsp;&nbsp;&nbsp; -1.981&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;0.048&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-1.809&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-0.010</div><div class="crayon-line crayon-striped-line" id="crayon-5a8d751eab24c092476399-16">sigma2&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;88.5375&nbsp;&nbsp;&nbsp;&nbsp; 28.781&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;3.076&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;0.002&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;32.128&nbsp;&nbsp;&nbsp;&nbsp; 144.947</div><div class="crayon-line" id="crayon-5a8d751eab24c092476399-17">===================================================================================</div><div class="crayon-line crayon-striped-line" id="crayon-5a8d751eab24c092476399-18">Ljung-Box (Q):&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 32.48&nbsp;&nbsp; Jarque-Bera (JB):&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 0.35</div><div class="crayon-line" id="crayon-5a8d751eab24c092476399-19">Prob(Q):&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;0.79&nbsp;&nbsp; Prob(JB):&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 0.84</div><div class="crayon-line crayon-striped-line" id="crayon-5a8d751eab24c092476399-20">Heteroskedasticity (H):&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 0.83&nbsp;&nbsp; Skew:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 0.14</div><div class="crayon-line" id="crayon-5a8d751eab24c092476399-21">Prob(H) (two-sided):&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;0.61&nbsp;&nbsp; Kurtosis:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 3.10</div><div class="crayon-line crayon-striped-line" id="crayon-5a8d751eab24c092476399-22">===================================================================================</div></div></td>
					</tr>
				</tbody></table>
			</div>
		</div>
<!-- [Format Time: 0.0007 seconds] -->
<p> </p>
<h2>Reading the Summary Output</h2>
<p>The <code>coef</code> column shows the weight (i.e. importance) of each feature and how each one impacts the time series. The <code>P&gt;|z|</code> column informs us of the significance of each feature weight. Here, each weight has a p-value lower or close to 0.05, so it is reasonable to retain all of them in our model.</p>
<p>The <strong>Ljung-Box Q statistic</strong> is used to test the <img src="./Part 4_ Time Series Prediction with ARIMA Models in Python - dacatay_files/latex(12).php" alt="H_0" title="H_0" class="latex"> that the complete data set is independently distributed, i.e. not serially correlated. The null is rejected if</p>
<p style="text-align: center;"><img src="./Part 4_ Time Series Prediction with ARIMA Models in Python - dacatay_files/latex(13).php" alt="Q &lt; \chi^2_{1-\alpha}(\nu)" title="Q &lt; \chi^2_{1-\alpha}(\nu)" class="latex"></p>
<p>where the DoF <img src="./Part 4_ Time Series Prediction with ARIMA Models in Python - dacatay_files/latex(14).php" alt="\nu = n - k" title="\nu = n - k" class="latex">. Computing the critical value of the Chi-square distribution we find that the resulting model exhibits serially uncorrelated errors:</p><!-- Crayon Syntax Highlighter v_2.7.2_beta -->

		<div id="crayon-5a8d751eab24e583609651" class="crayon-syntax crayon-theme-classic crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style="margin-top: 12px; margin-bottom: 12px; font-size: 14px !important; line-height: 16px !important; height: auto;">
		
			<div class="crayon-plain-wrap"><textarea wrap="soft" class="crayon-plain print-no" data-settings="" readonly="" style="tab-size: 4; font-size: 14px !important; line-height: 16px !important; z-index: 0; opacity: 0; overflow: hidden;">from scipy.stats import chi2
chi = chi2.isf(q=0.05, df=116)
chi</textarea></div>
			<div class="crayon-main" style="position: relative; z-index: 1; overflow: hidden;">
				<table class="crayon-table" style="">
					<tbody><tr class="crayon-row">
				<td class="crayon-nums " data-settings="show">
					<div class="crayon-nums-content" style="font-size: 14px !important; line-height: 16px !important;"><div class="crayon-num" data-line="crayon-5a8d751eab24e583609651-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a8d751eab24e583609651-2">2</div><div class="crayon-num" data-line="crayon-5a8d751eab24e583609651-3">3</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 14px !important; line-height: 16px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-5a8d751eab24e583609651-1"><span class="crayon-st">from</span><span class="crayon-h"> </span><span class="crayon-v">scipy</span><span class="crayon-sy">.</span><span class="crayon-e">stats </span><span class="crayon-r">import</span><span class="crayon-h"> </span><span class="crayon-e">chi2</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a8d751eab24e583609651-2"><span class="crayon-v">chi</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">chi2</span><span class="crayon-sy">.</span><span class="crayon-e">isf</span><span class="crayon-sy">(</span><span class="crayon-v">q</span><span class="crayon-o">=</span><span class="crayon-cn">0.05</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">df</span><span class="crayon-o">=</span><span class="crayon-cn">116</span><span class="crayon-sy">)</span></div><div class="crayon-line" id="crayon-5a8d751eab24e583609651-3"><span class="crayon-v">chi</span></div></div></td>
					</tr>
				</tbody></table>
			</div>
		</div>
<!-- [Format Time: 0.0005 seconds] -->
<p></p>
<p></p><!-- Crayon Syntax Highlighter v_2.7.2_beta -->

		<div id="crayon-5a8d751eab252558895775" class="crayon-syntax crayon-theme-classic crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style="margin-top: 12px; margin-bottom: 12px; font-size: 14px !important; line-height: 16px !important; height: auto;">
		
			<div class="crayon-plain-wrap"><textarea wrap="soft" class="crayon-plain print-no" data-settings="" readonly="" style="tab-size: 4; font-size: 14px !important; line-height: 16px !important; z-index: 0; opacity: 0; overflow: hidden;">142.13816003902645</textarea></div>
			<div class="crayon-main" style="position: relative; z-index: 1; overflow: hidden;">
				<table class="crayon-table" style="">
					<tbody><tr class="crayon-row">
				<td class="crayon-nums " data-settings="show">
					<div class="crayon-nums-content" style="font-size: 14px !important; line-height: 16px !important;"><div class="crayon-num" data-line="crayon-5a8d751eab252558895775-1">1</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 14px !important; line-height: 16px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-5a8d751eab252558895775-1">142.13816003902645</div></div></td>
					</tr>
				</tbody></table>
			</div>
		</div>
<!-- [Format Time: 0.0000 seconds] -->
<p> </p>
<p>The <strong>Jarque-Bera test</strong> is a goodness-of-fit test of whether the data has the skewness and kurtosis of a normal distribution. The normal distribution has a skew of 0 and a kurtosis of 3.</p>
<p>The <code>res</code> object has a convenient diagnostic method named <code>plot_diagnostics</code> method to get a rundown of the fitted model.</p><!-- Crayon Syntax Highlighter v_2.7.2_beta -->

		<div id="crayon-5a8d751eab254758730871" class="crayon-syntax crayon-theme-classic crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style="margin-top: 12px; margin-bottom: 12px; font-size: 14px !important; line-height: 16px !important; height: auto;">
		
			<div class="crayon-plain-wrap"><textarea wrap="soft" class="crayon-plain print-no" data-settings="" readonly="" style="tab-size: 4; font-size: 14px !important; line-height: 16px !important; z-index: 0; opacity: 0; overflow: hidden;">res.plot_diagnostics(figsize=(16, 10))
plt.tight_layout()
plt.show()</textarea></div>
			<div class="crayon-main" style="position: relative; z-index: 1; overflow: hidden;">
				<table class="crayon-table" style="">
					<tbody><tr class="crayon-row">
				<td class="crayon-nums " data-settings="show">
					<div class="crayon-nums-content" style="font-size: 14px !important; line-height: 16px !important;"><div class="crayon-num" data-line="crayon-5a8d751eab254758730871-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a8d751eab254758730871-2">2</div><div class="crayon-num" data-line="crayon-5a8d751eab254758730871-3">3</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 14px !important; line-height: 16px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-5a8d751eab254758730871-1"><span class="crayon-v">res</span><span class="crayon-sy">.</span><span class="crayon-e">plot_diagnostics</span><span class="crayon-sy">(</span><span class="crayon-v">figsize</span><span class="crayon-o">=</span><span class="crayon-sy">(</span><span class="crayon-cn">16</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-cn">10</span><span class="crayon-sy">)</span><span class="crayon-sy">)</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a8d751eab254758730871-2"><span class="crayon-v">plt</span><span class="crayon-sy">.</span><span class="crayon-e">tight_layout</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span></div><div class="crayon-line" id="crayon-5a8d751eab254758730871-3"><span class="crayon-v">plt</span><span class="crayon-sy">.</span><span class="crayon-e">show</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span></div></div></td>
					</tr>
				</tbody></table>
			</div>
		</div>
<!-- [Format Time: 0.0004 seconds] -->
<p><a href="https://i1.wp.com/dacatay.com/wp-content/uploads/2017/11/arima_resid.png"><img data-attachment-id="1452" data-permalink="http://dacatay.com/data-science/part-4-time-series-prediction-arima-python/attachment/arima_resid/" data-orig-file="https://i2.wp.com/dacatay.com/wp-content/uploads/2017/11/arima_resid.png?fit=1920%2C1200" data-orig-size="1920,1200" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="arima_resid" data-image-description="" data-medium-file="https://i2.wp.com/dacatay.com/wp-content/uploads/2017/11/arima_resid.png?fit=300%2C188" data-large-file="https://i0.wp.com/dacatay.com/wp-content/uploads/2017/11/arima_resid.png?fit=840%2C525" class="alignnone size-large wp-image-1452" src="./Part 4_ Time Series Prediction with ARIMA Models in Python - dacatay_files/arima_resid.png" alt="" width="556" height="348" srcset="https://i0.wp.com/dacatay.com/wp-content/uploads/2017/11/arima_resid.png?resize=1024%2C640 1024w, https://i0.wp.com/dacatay.com/wp-content/uploads/2017/11/arima_resid.png?resize=300%2C188 300w, https://i0.wp.com/dacatay.com/wp-content/uploads/2017/11/arima_resid.png?resize=768%2C480 768w, https://i2.wp.com/dacatay.com/wp-content/uploads/2017/11/arima_resid.png?resize=1200%2C750 1200w, https://i0.wp.com/dacatay.com/wp-content/uploads/2017/11/arima_resid.png?w=1680 1680w" sizes="(max-width: 709px) 85vw, (max-width: 909px) 67vw, (max-width: 1362px) 62vw, 840px"></a></p>
<p>We need to ensure that the residuals of our model are randomly distributed with zero-mean and not serially correlate, i. e. we’d like the remaining information to be white noise. If the fitted seasonal ARIMA model does not satisfy these properties, it is a good indication that it can be further improved.</p>
<p>The residual plot of the fitted model in the upper right corner appears do be white noise as it does not display obvious seasonality or trend behaviour. The histogram plot in the upper right corner pair with the kernel density estimation (red line) indicates that the time series is almost normally distributed. This is compared to the density of the standard normal distribution (green line). The correlogram (autocorrelation plot) confirms this resuts, since the time series residuals show low correlations with lagged residuals.</p>
<p>The model produces a satisfactory fit that describes the underlying time series data well enough to forecast future values. Although the fit so far appears to be fine, a better fit could be achieved with a more complex model, i.e. a better model might have been von when increasing the parameter space for the grid search.</p>
<h2>One step ahead prediction</h2>
<p>The <code>get_prediction</code> and <code>conf_int</code> methods calculate predictions for future points in time for the previously fitted model and the confidence intervals associated with a prediction, respectively. The <code>dynamic=False</code> argument causes the method to produce a <strong>one-step ahead prediction</strong> of the time series</p><!-- Crayon Syntax Highlighter v_2.7.2_beta -->

		<div id="crayon-5a8d751eab256143517005" class="crayon-syntax crayon-theme-classic crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style="margin-top: 12px; margin-bottom: 12px; font-size: 14px !important; line-height: 16px !important; height: auto;">
		
			<div class="crayon-plain-wrap"><textarea wrap="soft" class="crayon-plain print-no" data-settings="" readonly="" style="tab-size: 4; font-size: 14px !important; line-height: 16px !important; z-index: 0; opacity: 0; overflow: hidden;"># fit model to data
res = sm.tsa.statespace.SARIMAX(y_train,
                                order=(1, 1, 0),
                                seasonal_order=(1, 2, 1, 12),
                                enforce_stationarity=True,
                                enforce_invertibility=True).fit()

# in-sample-prediction and confidence bounds
pred = res.get_prediction(start=pd.to_datetime('1958-12-01'), 
                          end=pd.to_datetime('1960-12-01'),
                          dynamic=True)
pred_ci = pred.conf_int()

# plot in-sample-prediction
ax = y['1949':].plot(label='Observed',color='#006699');
pred.predicted_mean.plot(ax=ax, label='One-step Ahead Prediction', alpha=.7, color='#ff0066');

# draw confidence bound (gray)
ax.fill_between(pred_ci.index, 
                pred_ci.iloc[:, 0], 
                pred_ci.iloc[:, 1], color='#ff0066', alpha=.25);

# style the plot
ax.fill_betweenx(ax.get_ylim(), pd.to_datetime('1958-12-01'), y.index[-1], alpha=.15, zorder=-1, color='grey');
ax.set_xlabel('Date')
ax.set_ylabel('Passengers')
plt.legend(loc='upper left')
plt.show()</textarea></div>
			<div class="crayon-main" style="position: relative; z-index: 1; overflow: hidden;">
				<table class="crayon-table" style="">
					<tbody><tr class="crayon-row">
				<td class="crayon-nums " data-settings="show">
					<div class="crayon-nums-content" style="font-size: 14px !important; line-height: 16px !important;"><div class="crayon-num" data-line="crayon-5a8d751eab256143517005-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a8d751eab256143517005-2">2</div><div class="crayon-num" data-line="crayon-5a8d751eab256143517005-3">3</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a8d751eab256143517005-4">4</div><div class="crayon-num" data-line="crayon-5a8d751eab256143517005-5">5</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a8d751eab256143517005-6">6</div><div class="crayon-num" data-line="crayon-5a8d751eab256143517005-7">7</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a8d751eab256143517005-8">8</div><div class="crayon-num" data-line="crayon-5a8d751eab256143517005-9">9</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a8d751eab256143517005-10">10</div><div class="crayon-num" data-line="crayon-5a8d751eab256143517005-11">11</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a8d751eab256143517005-12">12</div><div class="crayon-num" data-line="crayon-5a8d751eab256143517005-13">13</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a8d751eab256143517005-14">14</div><div class="crayon-num" data-line="crayon-5a8d751eab256143517005-15">15</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a8d751eab256143517005-16">16</div><div class="crayon-num" data-line="crayon-5a8d751eab256143517005-17">17</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a8d751eab256143517005-18">18</div><div class="crayon-num" data-line="crayon-5a8d751eab256143517005-19">19</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a8d751eab256143517005-20">20</div><div class="crayon-num" data-line="crayon-5a8d751eab256143517005-21">21</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a8d751eab256143517005-22">22</div><div class="crayon-num" data-line="crayon-5a8d751eab256143517005-23">23</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a8d751eab256143517005-24">24</div><div class="crayon-num" data-line="crayon-5a8d751eab256143517005-25">25</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a8d751eab256143517005-26">26</div><div class="crayon-num" data-line="crayon-5a8d751eab256143517005-27">27</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a8d751eab256143517005-28">28</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 14px !important; line-height: 16px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-5a8d751eab256143517005-1"><span class="crayon-c"># fit model to data</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a8d751eab256143517005-2"><span class="crayon-v">res</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">sm</span><span class="crayon-sy">.</span><span class="crayon-v">tsa</span><span class="crayon-sy">.</span><span class="crayon-v">statespace</span><span class="crayon-sy">.</span><span class="crayon-e">SARIMAX</span><span class="crayon-sy">(</span><span class="crayon-v">y_train</span><span class="crayon-sy">,</span></div><div class="crayon-line" id="crayon-5a8d751eab256143517005-3"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">order</span><span class="crayon-o">=</span><span class="crayon-sy">(</span><span class="crayon-cn">1</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-cn">1</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-cn">0</span><span class="crayon-sy">)</span><span class="crayon-sy">,</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a8d751eab256143517005-4"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">seasonal_order</span><span class="crayon-o">=</span><span class="crayon-sy">(</span><span class="crayon-cn">1</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-cn">2</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-cn">1</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-cn">12</span><span class="crayon-sy">)</span><span class="crayon-sy">,</span></div><div class="crayon-line" id="crayon-5a8d751eab256143517005-5"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">enforce_stationarity</span><span class="crayon-o">=</span><span class="crayon-t">True</span><span class="crayon-sy">,</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a8d751eab256143517005-6"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">enforce_invertibility</span><span class="crayon-o">=</span><span class="crayon-t">True</span><span class="crayon-sy">)</span><span class="crayon-sy">.</span><span class="crayon-e">fit</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span></div><div class="crayon-line" id="crayon-5a8d751eab256143517005-7">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5a8d751eab256143517005-8"><span class="crayon-c"># in-sample-prediction and confidence bounds</span></div><div class="crayon-line" id="crayon-5a8d751eab256143517005-9"><span class="crayon-v">pred</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">res</span><span class="crayon-sy">.</span><span class="crayon-e">get_prediction</span><span class="crayon-sy">(</span><span class="crayon-v">start</span><span class="crayon-o">=</span><span class="crayon-v">pd</span><span class="crayon-sy">.</span><span class="crayon-e">to_datetime</span><span class="crayon-sy">(</span><span class="crayon-s">'1958-12-01'</span><span class="crayon-sy">)</span><span class="crayon-sy">,</span><span class="crayon-h"> </span></div><div class="crayon-line crayon-striped-line" id="crayon-5a8d751eab256143517005-10"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">end</span><span class="crayon-o">=</span><span class="crayon-v">pd</span><span class="crayon-sy">.</span><span class="crayon-e">to_datetime</span><span class="crayon-sy">(</span><span class="crayon-s">'1960-12-01'</span><span class="crayon-sy">)</span><span class="crayon-sy">,</span></div><div class="crayon-line" id="crayon-5a8d751eab256143517005-11"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">dynamic</span><span class="crayon-o">=</span><span class="crayon-t">True</span><span class="crayon-sy">)</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a8d751eab256143517005-12"><span class="crayon-v">pred_ci</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">pred</span><span class="crayon-sy">.</span><span class="crayon-e">conf_int</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span></div><div class="crayon-line" id="crayon-5a8d751eab256143517005-13">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5a8d751eab256143517005-14"><span class="crayon-c"># plot in-sample-prediction</span></div><div class="crayon-line" id="crayon-5a8d751eab256143517005-15"><span class="crayon-v">ax</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">y</span><span class="crayon-sy">[</span><span class="crayon-s">'1949'</span><span class="crayon-o">:</span><span class="crayon-sy">]</span><span class="crayon-sy">.</span><span class="crayon-e">plot</span><span class="crayon-sy">(</span><span class="crayon-v">label</span><span class="crayon-o">=</span><span class="crayon-s">'Observed'</span><span class="crayon-sy">,</span><span class="crayon-v">color</span><span class="crayon-o">=</span><span class="crayon-s">'#006699'</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a8d751eab256143517005-16"><span class="crayon-v">pred</span><span class="crayon-sy">.</span><span class="crayon-v">predicted_mean</span><span class="crayon-sy">.</span><span class="crayon-e">plot</span><span class="crayon-sy">(</span><span class="crayon-v">ax</span><span class="crayon-o">=</span><span class="crayon-v">ax</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">label</span><span class="crayon-o">=</span><span class="crayon-s">'One-step Ahead Prediction'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">alpha</span><span class="crayon-o">=</span><span class="crayon-sy">.</span><span class="crayon-cn">7</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">color</span><span class="crayon-o">=</span><span class="crayon-s">'#ff0066'</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a8d751eab256143517005-17">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5a8d751eab256143517005-18"><span class="crayon-c"># draw confidence bound (gray)</span></div><div class="crayon-line" id="crayon-5a8d751eab256143517005-19"><span class="crayon-v">ax</span><span class="crayon-sy">.</span><span class="crayon-e">fill_between</span><span class="crayon-sy">(</span><span class="crayon-v">pred_ci</span><span class="crayon-sy">.</span><span class="crayon-v">index</span><span class="crayon-sy">,</span><span class="crayon-h"> </span></div><div class="crayon-line crayon-striped-line" id="crayon-5a8d751eab256143517005-20"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">pred_ci</span><span class="crayon-sy">.</span><span class="crayon-v">iloc</span><span class="crayon-sy">[</span><span class="crayon-o">:</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-cn">0</span><span class="crayon-sy">]</span><span class="crayon-sy">,</span><span class="crayon-h"> </span></div><div class="crayon-line" id="crayon-5a8d751eab256143517005-21"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">pred_ci</span><span class="crayon-sy">.</span><span class="crayon-v">iloc</span><span class="crayon-sy">[</span><span class="crayon-o">:</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-cn">1</span><span class="crayon-sy">]</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">color</span><span class="crayon-o">=</span><span class="crayon-s">'#ff0066'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">alpha</span><span class="crayon-o">=</span><span class="crayon-sy">.</span><span class="crayon-cn">25</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a8d751eab256143517005-22">&nbsp;</div><div class="crayon-line" id="crayon-5a8d751eab256143517005-23"><span class="crayon-c"># style the plot</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a8d751eab256143517005-24"><span class="crayon-v">ax</span><span class="crayon-sy">.</span><span class="crayon-e">fill_betweenx</span><span class="crayon-sy">(</span><span class="crayon-v">ax</span><span class="crayon-sy">.</span><span class="crayon-e">get_ylim</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">pd</span><span class="crayon-sy">.</span><span class="crayon-e">to_datetime</span><span class="crayon-sy">(</span><span class="crayon-s">'1958-12-01'</span><span class="crayon-sy">)</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">y</span><span class="crayon-sy">.</span><span class="crayon-v">index</span><span class="crayon-sy">[</span><span class="crayon-o">-</span><span class="crayon-cn">1</span><span class="crayon-sy">]</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">alpha</span><span class="crayon-o">=</span><span class="crayon-sy">.</span><span class="crayon-cn">15</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">zorder</span><span class="crayon-o">=</span><span class="crayon-o">-</span><span class="crayon-cn">1</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">color</span><span class="crayon-o">=</span><span class="crayon-s">'grey'</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a8d751eab256143517005-25"><span class="crayon-v">ax</span><span class="crayon-sy">.</span><span class="crayon-e">set_xlabel</span><span class="crayon-sy">(</span><span class="crayon-s">'Date'</span><span class="crayon-sy">)</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a8d751eab256143517005-26"><span class="crayon-v">ax</span><span class="crayon-sy">.</span><span class="crayon-e">set_ylabel</span><span class="crayon-sy">(</span><span class="crayon-s">'Passengers'</span><span class="crayon-sy">)</span></div><div class="crayon-line" id="crayon-5a8d751eab256143517005-27"><span class="crayon-v">plt</span><span class="crayon-sy">.</span><span class="crayon-e">legend</span><span class="crayon-sy">(</span><span class="crayon-v">loc</span><span class="crayon-o">=</span><span class="crayon-s">'upper left'</span><span class="crayon-sy">)</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a8d751eab256143517005-28"><span class="crayon-v">plt</span><span class="crayon-sy">.</span><span class="crayon-e">show</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span></div></div></td>
					</tr>
				</tbody></table>
			</div>
		</div>
<!-- [Format Time: 0.0041 seconds] -->
<p><a href="https://i1.wp.com/dacatay.com/wp-content/uploads/2017/11/in_sample_pred-1.png"><img data-attachment-id="1453" data-permalink="http://dacatay.com/data-science/part-4-time-series-prediction-arima-python/attachment/in_sample_pred-2/" data-orig-file="https://i1.wp.com/dacatay.com/wp-content/uploads/2017/11/in_sample_pred-1.png?fit=1920%2C960" data-orig-size="1920,960" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="in_sample_pred" data-image-description="" data-medium-file="https://i0.wp.com/dacatay.com/wp-content/uploads/2017/11/in_sample_pred-1.png?fit=300%2C150" data-large-file="https://i2.wp.com/dacatay.com/wp-content/uploads/2017/11/in_sample_pred-1.png?fit=840%2C420" class="alignnone size-large wp-image-1453" src="./Part 4_ Time Series Prediction with ARIMA Models in Python - dacatay_files/in_sample_pred-1.png" alt="" width="556" height="278" srcset="https://i0.wp.com/dacatay.com/wp-content/uploads/2017/11/in_sample_pred-1.png?resize=1024%2C512 1024w, https://i0.wp.com/dacatay.com/wp-content/uploads/2017/11/in_sample_pred-1.png?resize=300%2C150 300w, https://i1.wp.com/dacatay.com/wp-content/uploads/2017/11/in_sample_pred-1.png?resize=768%2C384 768w, https://i1.wp.com/dacatay.com/wp-content/uploads/2017/11/in_sample_pred-1.png?resize=1200%2C600 1200w, https://i2.wp.com/dacatay.com/wp-content/uploads/2017/11/in_sample_pred-1.png?w=1680 1680w" sizes="(max-width: 709px) 85vw, (max-width: 909px) 67vw, (max-width: 1362px) 62vw, 840px"></a></p>
<p>To quantify the accuracy between model fit and true observations wie will use the <strong>mean squared error</strong> (MSE). The MSE computes the squared difference between the true and predicted value. The MSE is calculated as follows</p>
<p style="text-align: center;"><img src="./Part 4_ Time Series Prediction with ARIMA Models in Python - dacatay_files/latex(15).php" alt="MSE = \frac{1}{T} \sum_{t=1}^T \left(\hat{y}_t - y_t \right)^2" title="MSE = \frac{1}{T} \sum_{t=1}^T \left(\hat{y}_t - y_t \right)^2" class="latex"></p>
<p></p><!-- Crayon Syntax Highlighter v_2.7.2_beta -->

		<div id="crayon-5a8d751eab258987172880" class="crayon-syntax crayon-theme-classic crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style="margin-top: 12px; margin-bottom: 12px; font-size: 14px !important; line-height: 16px !important; height: auto;">
		
			<div class="crayon-plain-wrap"><textarea wrap="soft" class="crayon-plain print-no" data-settings="" readonly="" style="tab-size: 4; font-size: 14px !important; line-height: 16px !important; z-index: 0; opacity: 0; overflow: hidden;">y_hat = pred.predicted_mean
y_true = y['1958-12-01':]

# compute the mean square error
mse = ((y_hat - y_true) ** 2).mean()
print('Prediction quality: {:.2f} MSE ({:.2f} RMSE)'.format(mse, math.sqrt(mse)))</textarea></div>
			<div class="crayon-main" style="position: relative; z-index: 1; overflow: hidden;">
				<table class="crayon-table" style="">
					<tbody><tr class="crayon-row">
				<td class="crayon-nums " data-settings="show">
					<div class="crayon-nums-content" style="font-size: 14px !important; line-height: 16px !important;"><div class="crayon-num" data-line="crayon-5a8d751eab258987172880-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a8d751eab258987172880-2">2</div><div class="crayon-num" data-line="crayon-5a8d751eab258987172880-3">3</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a8d751eab258987172880-4">4</div><div class="crayon-num" data-line="crayon-5a8d751eab258987172880-5">5</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a8d751eab258987172880-6">6</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 14px !important; line-height: 16px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-5a8d751eab258987172880-1"><span class="crayon-v">y_hat</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">pred</span><span class="crayon-sy">.</span><span class="crayon-e">predicted_mean</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a8d751eab258987172880-2"><span class="crayon-v">y_true</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">y</span><span class="crayon-sy">[</span><span class="crayon-s">'1958-12-01'</span><span class="crayon-o">:</span><span class="crayon-sy">]</span></div><div class="crayon-line" id="crayon-5a8d751eab258987172880-3">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5a8d751eab258987172880-4"><span class="crayon-c"># compute the mean square error</span></div><div class="crayon-line" id="crayon-5a8d751eab258987172880-5"><span class="crayon-v">mse</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-sy">(</span><span class="crayon-v">y_hat</span><span class="crayon-h"> </span><span class="crayon-o">-</span><span class="crayon-h"> </span><span class="crayon-v">y_true</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-o">*</span><span class="crayon-o">*</span><span class="crayon-h"> </span><span class="crayon-cn">2</span><span class="crayon-sy">)</span><span class="crayon-sy">.</span><span class="crayon-e">mean</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a8d751eab258987172880-6"><span class="crayon-k ">print</span><span class="crayon-sy">(</span><span class="crayon-s">'Prediction quality: {:.2f} MSE ({:.2f} RMSE)'</span><span class="crayon-sy">.</span><span class="crayon-k ">format</span><span class="crayon-sy">(</span><span class="crayon-v">mse</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-k ">math</span><span class="crayon-sy">.</span><span class="crayon-e">sqrt</span><span class="crayon-sy">(</span><span class="crayon-v">mse</span><span class="crayon-sy">)</span><span class="crayon-sy">)</span><span class="crayon-sy">)</span></div></div></td>
					</tr>
				</tbody></table>
			</div>
		</div>
<!-- [Format Time: 0.0009 seconds] -->
<p></p>
<p></p><!-- Crayon Syntax Highlighter v_2.7.2_beta -->

		<div id="crayon-5a8d751eab25b047583000" class="crayon-syntax crayon-theme-classic crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style="margin-top: 12px; margin-bottom: 12px; font-size: 14px !important; line-height: 16px !important; height: auto;">
		
			<div class="crayon-plain-wrap"><textarea wrap="soft" class="crayon-plain print-no" data-settings="" readonly="" style="tab-size: 4; font-size: 14px !important; line-height: 16px !important; z-index: 0; opacity: 0; overflow: hidden;">Prediction quality: 2305.05 MSE (48.01 RMSE)</textarea></div>
			<div class="crayon-main" style="position: relative; z-index: 1; overflow: hidden;">
				<table class="crayon-table" style="">
					<tbody><tr class="crayon-row">
				<td class="crayon-nums " data-settings="show">
					<div class="crayon-nums-content" style="font-size: 14px !important; line-height: 16px !important;"><div class="crayon-num" data-line="crayon-5a8d751eab25b047583000-1">1</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 14px !important; line-height: 16px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-5a8d751eab25b047583000-1"><span class="crayon-e">Prediction </span><span class="crayon-v">quality</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-cn">2305.05</span><span class="crayon-h"> </span><span class="crayon-e">MSE</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-cn">48.01</span><span class="crayon-h"> </span><span class="crayon-v">RMSE</span><span class="crayon-sy">)</span></div></div></td>
					</tr>
				</tbody></table>
			</div>
		</div>
<!-- [Format Time: 0.0003 seconds] -->
<p> </p>
<p>The one-step ahead prediction yielded a root mean square of 48.01, which appears reasonal comparing to the plot above for a prediction period of two years. This results imply, that on average, the prediction is off 48,010 passenger from the actual number of passengers.</p>
<h2>Out of sample prediction</h2>
<p>To put the model to the real test with a 24-month-head prediction. This requires to pass the argument <code>dynamic=False</code> when using the <code>get_prediction</code> method.</p><!-- Crayon Syntax Highlighter v_2.7.2_beta -->

		<div id="crayon-5a8d751eab25e152583885" class="crayon-syntax crayon-theme-classic crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style="margin-top: 12px; margin-bottom: 12px; font-size: 14px !important; line-height: 16px !important; height: auto;">
		
			<div class="crayon-plain-wrap"><textarea wrap="soft" class="crayon-plain print-no" data-settings="" readonly="" style="tab-size: 4; font-size: 14px !important; line-height: 16px !important; z-index: 0; opacity: 0; overflow: hidden;"># predict out of sample and find confidence bounds
pred_out = res.get_prediction(start=pd.to_datetime('1958-12-01'), 
                              end=pd.to_datetime('1960-12-01'), 
                              dynamic=False, full_results=True)
pred_out_ci = pred_out.conf_int()

# plot time series and out of sample prediction
ax = y['1949':].plot(label='Observed', color='#006699')
pred_out.predicted_mean.plot(ax=ax, label='Out-of-Sample Forecast', color='#ff0066')
ax.fill_between(pred_out_ci.index,
                pred_out_ci.iloc[:, 0],
                pred_out_ci.iloc[:, 1], color='#ff0066', alpha=.25)
ax.fill_betweenx(ax.get_ylim(), pd.to_datetime('1958-12-01'), y.index[-1], alpha=.15, zorder=-1, color='grey')
ax.set_xlabel('Date')
ax.set_ylabel('Passengers')
plt.legend()
plt.savefig('./img/out_of_sample_pred.png')
plt.show()</textarea></div>
			<div class="crayon-main" style="position: relative; z-index: 1; overflow: hidden;">
				<table class="crayon-table" style="">
					<tbody><tr class="crayon-row">
				<td class="crayon-nums " data-settings="show">
					<div class="crayon-nums-content" style="font-size: 14px !important; line-height: 16px !important;"><div class="crayon-num" data-line="crayon-5a8d751eab25e152583885-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a8d751eab25e152583885-2">2</div><div class="crayon-num" data-line="crayon-5a8d751eab25e152583885-3">3</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a8d751eab25e152583885-4">4</div><div class="crayon-num" data-line="crayon-5a8d751eab25e152583885-5">5</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a8d751eab25e152583885-6">6</div><div class="crayon-num" data-line="crayon-5a8d751eab25e152583885-7">7</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a8d751eab25e152583885-8">8</div><div class="crayon-num" data-line="crayon-5a8d751eab25e152583885-9">9</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a8d751eab25e152583885-10">10</div><div class="crayon-num" data-line="crayon-5a8d751eab25e152583885-11">11</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a8d751eab25e152583885-12">12</div><div class="crayon-num" data-line="crayon-5a8d751eab25e152583885-13">13</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a8d751eab25e152583885-14">14</div><div class="crayon-num" data-line="crayon-5a8d751eab25e152583885-15">15</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a8d751eab25e152583885-16">16</div><div class="crayon-num" data-line="crayon-5a8d751eab25e152583885-17">17</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a8d751eab25e152583885-18">18</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 14px !important; line-height: 16px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-5a8d751eab25e152583885-1"><span class="crayon-c"># predict out of sample and find confidence bounds</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a8d751eab25e152583885-2"><span class="crayon-v">pred_out</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">res</span><span class="crayon-sy">.</span><span class="crayon-e">get_prediction</span><span class="crayon-sy">(</span><span class="crayon-v">start</span><span class="crayon-o">=</span><span class="crayon-v">pd</span><span class="crayon-sy">.</span><span class="crayon-e">to_datetime</span><span class="crayon-sy">(</span><span class="crayon-s">'1958-12-01'</span><span class="crayon-sy">)</span><span class="crayon-sy">,</span><span class="crayon-h"> </span></div><div class="crayon-line" id="crayon-5a8d751eab25e152583885-3"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">end</span><span class="crayon-o">=</span><span class="crayon-v">pd</span><span class="crayon-sy">.</span><span class="crayon-e">to_datetime</span><span class="crayon-sy">(</span><span class="crayon-s">'1960-12-01'</span><span class="crayon-sy">)</span><span class="crayon-sy">,</span><span class="crayon-h"> </span></div><div class="crayon-line crayon-striped-line" id="crayon-5a8d751eab25e152583885-4"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">dynamic</span><span class="crayon-o">=</span><span class="crayon-t">False</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">full_results</span><span class="crayon-o">=</span><span class="crayon-t">True</span><span class="crayon-sy">)</span></div><div class="crayon-line" id="crayon-5a8d751eab25e152583885-5"><span class="crayon-v">pred_out_ci</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">pred_out</span><span class="crayon-sy">.</span><span class="crayon-e">conf_int</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a8d751eab25e152583885-6">&nbsp;</div><div class="crayon-line" id="crayon-5a8d751eab25e152583885-7"><span class="crayon-c"># plot time series and out of sample prediction</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a8d751eab25e152583885-8"><span class="crayon-v">ax</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">y</span><span class="crayon-sy">[</span><span class="crayon-s">'1949'</span><span class="crayon-o">:</span><span class="crayon-sy">]</span><span class="crayon-sy">.</span><span class="crayon-e">plot</span><span class="crayon-sy">(</span><span class="crayon-v">label</span><span class="crayon-o">=</span><span class="crayon-s">'Observed'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">color</span><span class="crayon-o">=</span><span class="crayon-s">'#006699'</span><span class="crayon-sy">)</span></div><div class="crayon-line" id="crayon-5a8d751eab25e152583885-9"><span class="crayon-v">pred_out</span><span class="crayon-sy">.</span><span class="crayon-v">predicted_mean</span><span class="crayon-sy">.</span><span class="crayon-e">plot</span><span class="crayon-sy">(</span><span class="crayon-v">ax</span><span class="crayon-o">=</span><span class="crayon-v">ax</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">label</span><span class="crayon-o">=</span><span class="crayon-s">'Out-of-Sample Forecast'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">color</span><span class="crayon-o">=</span><span class="crayon-s">'#ff0066'</span><span class="crayon-sy">)</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a8d751eab25e152583885-10"><span class="crayon-v">ax</span><span class="crayon-sy">.</span><span class="crayon-e">fill_between</span><span class="crayon-sy">(</span><span class="crayon-v">pred_out_ci</span><span class="crayon-sy">.</span><span class="crayon-v">index</span><span class="crayon-sy">,</span></div><div class="crayon-line" id="crayon-5a8d751eab25e152583885-11"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">pred_out_ci</span><span class="crayon-sy">.</span><span class="crayon-v">iloc</span><span class="crayon-sy">[</span><span class="crayon-o">:</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-cn">0</span><span class="crayon-sy">]</span><span class="crayon-sy">,</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a8d751eab25e152583885-12"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">pred_out_ci</span><span class="crayon-sy">.</span><span class="crayon-v">iloc</span><span class="crayon-sy">[</span><span class="crayon-o">:</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-cn">1</span><span class="crayon-sy">]</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">color</span><span class="crayon-o">=</span><span class="crayon-s">'#ff0066'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">alpha</span><span class="crayon-o">=</span><span class="crayon-sy">.</span><span class="crayon-cn">25</span><span class="crayon-sy">)</span></div><div class="crayon-line" id="crayon-5a8d751eab25e152583885-13"><span class="crayon-v">ax</span><span class="crayon-sy">.</span><span class="crayon-e">fill_betweenx</span><span class="crayon-sy">(</span><span class="crayon-v">ax</span><span class="crayon-sy">.</span><span class="crayon-e">get_ylim</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">pd</span><span class="crayon-sy">.</span><span class="crayon-e">to_datetime</span><span class="crayon-sy">(</span><span class="crayon-s">'1958-12-01'</span><span class="crayon-sy">)</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">y</span><span class="crayon-sy">.</span><span class="crayon-v">index</span><span class="crayon-sy">[</span><span class="crayon-o">-</span><span class="crayon-cn">1</span><span class="crayon-sy">]</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">alpha</span><span class="crayon-o">=</span><span class="crayon-sy">.</span><span class="crayon-cn">15</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">zorder</span><span class="crayon-o">=</span><span class="crayon-o">-</span><span class="crayon-cn">1</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">color</span><span class="crayon-o">=</span><span class="crayon-s">'grey'</span><span class="crayon-sy">)</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a8d751eab25e152583885-14"><span class="crayon-v">ax</span><span class="crayon-sy">.</span><span class="crayon-e">set_xlabel</span><span class="crayon-sy">(</span><span class="crayon-s">'Date'</span><span class="crayon-sy">)</span></div><div class="crayon-line" id="crayon-5a8d751eab25e152583885-15"><span class="crayon-v">ax</span><span class="crayon-sy">.</span><span class="crayon-e">set_ylabel</span><span class="crayon-sy">(</span><span class="crayon-s">'Passengers'</span><span class="crayon-sy">)</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a8d751eab25e152583885-16"><span class="crayon-v">plt</span><span class="crayon-sy">.</span><span class="crayon-e">legend</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span></div><div class="crayon-line" id="crayon-5a8d751eab25e152583885-17"><span class="crayon-v">plt</span><span class="crayon-sy">.</span><span class="crayon-e">savefig</span><span class="crayon-sy">(</span><span class="crayon-s">'./img/out_of_sample_pred.png'</span><span class="crayon-sy">)</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a8d751eab25e152583885-18"><span class="crayon-v">plt</span><span class="crayon-sy">.</span><span class="crayon-e">show</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span></div></div></td>
					</tr>
				</tbody></table>
			</div>
		</div>
<!-- [Format Time: 0.0032 seconds] -->
<p><a href="https://i0.wp.com/dacatay.com/wp-content/uploads/2017/11/out_of_sample_pred.png"><img data-attachment-id="1454" data-permalink="http://dacatay.com/data-science/part-4-time-series-prediction-arima-python/attachment/out_of_sample_pred/" data-orig-file="https://i0.wp.com/dacatay.com/wp-content/uploads/2017/11/out_of_sample_pred.png?fit=1920%2C960" data-orig-size="1920,960" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="out_of_sample_pred" data-image-description="" data-medium-file="https://i0.wp.com/dacatay.com/wp-content/uploads/2017/11/out_of_sample_pred.png?fit=300%2C150" data-large-file="https://i0.wp.com/dacatay.com/wp-content/uploads/2017/11/out_of_sample_pred.png?fit=840%2C420" class="alignnone size-large wp-image-1454" src="./Part 4_ Time Series Prediction with ARIMA Models in Python - dacatay_files/out_of_sample_pred.png" alt="" width="556" height="278" srcset="https://i2.wp.com/dacatay.com/wp-content/uploads/2017/11/out_of_sample_pred.png?resize=1024%2C512 1024w, https://i1.wp.com/dacatay.com/wp-content/uploads/2017/11/out_of_sample_pred.png?resize=300%2C150 300w, https://i2.wp.com/dacatay.com/wp-content/uploads/2017/11/out_of_sample_pred.png?resize=768%2C384 768w, https://i0.wp.com/dacatay.com/wp-content/uploads/2017/11/out_of_sample_pred.png?resize=1200%2C600 1200w, https://i1.wp.com/dacatay.com/wp-content/uploads/2017/11/out_of_sample_pred.png?w=1680 1680w" sizes="(max-width: 709px) 85vw, (max-width: 909px) 67vw, (max-width: 1362px) 62vw, 840px"></a></p>
<p>It is obvious that, the further we try to extrapolate the time series evolution into the future, the less confident our prediction becomes. Hence, the confidence bound widens in the course of time. Moreover, we notice in the plot above that our model seems to systematically underestimate future values. It seems that there must have been a systematic pattern left in the time series which we were not able to extract with the seasonal ARIMA model.</p>
<p>Again, quantifying the accuracy of the prediction with the MSE criterion</p><!-- Crayon Syntax Highlighter v_2.7.2_beta -->

		<div id="crayon-5a8d751eab260047180801" class="crayon-syntax crayon-theme-classic crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style="margin-top: 12px; margin-bottom: 12px; font-size: 14px !important; line-height: 16px !important; height: auto;">
		
			<div class="crayon-plain-wrap"><textarea wrap="soft" class="crayon-plain print-no" data-settings="" readonly="" style="tab-size: 4; font-size: 14px !important; line-height: 16px !important; z-index: 0; opacity: 0; overflow: hidden;"># extract the predicted and true values of our time series
y_hat = pred_out.predicted_mean
y_true = y['1958-12-01':]

# compute the mean square error
mse = ((y_hat - y_true) ** 2).mean()
print('Prediction quality: {:.2f} MSE ({:.2f} RMSE)'.format(mse, math.sqrt(mse)))</textarea></div>
			<div class="crayon-main" style="position: relative; z-index: 1; overflow: hidden;">
				<table class="crayon-table" style="">
					<tbody><tr class="crayon-row">
				<td class="crayon-nums " data-settings="show">
					<div class="crayon-nums-content" style="font-size: 14px !important; line-height: 16px !important;"><div class="crayon-num" data-line="crayon-5a8d751eab260047180801-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a8d751eab260047180801-2">2</div><div class="crayon-num" data-line="crayon-5a8d751eab260047180801-3">3</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a8d751eab260047180801-4">4</div><div class="crayon-num" data-line="crayon-5a8d751eab260047180801-5">5</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a8d751eab260047180801-6">6</div><div class="crayon-num" data-line="crayon-5a8d751eab260047180801-7">7</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 14px !important; line-height: 16px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-5a8d751eab260047180801-1"><span class="crayon-c"># extract the predicted and true values of our time series</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a8d751eab260047180801-2"><span class="crayon-v">y_hat</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">pred_out</span><span class="crayon-sy">.</span><span class="crayon-e">predicted_mean</span></div><div class="crayon-line" id="crayon-5a8d751eab260047180801-3"><span class="crayon-v">y_true</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">y</span><span class="crayon-sy">[</span><span class="crayon-s">'1958-12-01'</span><span class="crayon-o">:</span><span class="crayon-sy">]</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a8d751eab260047180801-4">&nbsp;</div><div class="crayon-line" id="crayon-5a8d751eab260047180801-5"><span class="crayon-c"># compute the mean square error</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a8d751eab260047180801-6"><span class="crayon-v">mse</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-sy">(</span><span class="crayon-v">y_hat</span><span class="crayon-h"> </span><span class="crayon-o">-</span><span class="crayon-h"> </span><span class="crayon-v">y_true</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-o">*</span><span class="crayon-o">*</span><span class="crayon-h"> </span><span class="crayon-cn">2</span><span class="crayon-sy">)</span><span class="crayon-sy">.</span><span class="crayon-e">mean</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span></div><div class="crayon-line" id="crayon-5a8d751eab260047180801-7"><span class="crayon-k ">print</span><span class="crayon-sy">(</span><span class="crayon-s">'Prediction quality: {:.2f} MSE ({:.2f} RMSE)'</span><span class="crayon-sy">.</span><span class="crayon-k ">format</span><span class="crayon-sy">(</span><span class="crayon-v">mse</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-k ">math</span><span class="crayon-sy">.</span><span class="crayon-e">sqrt</span><span class="crayon-sy">(</span><span class="crayon-v">mse</span><span class="crayon-sy">)</span><span class="crayon-sy">)</span><span class="crayon-sy">)</span></div></div></td>
					</tr>
				</tbody></table>
			</div>
		</div>
<!-- [Format Time: 0.0009 seconds] -->
<p></p>
<p></p><!-- Crayon Syntax Highlighter v_2.7.2_beta -->

		<div id="crayon-5a8d751eab262481159729" class="crayon-syntax crayon-theme-classic crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style="margin-top: 12px; margin-bottom: 12px; font-size: 14px !important; line-height: 16px !important; height: auto;">
		
			<div class="crayon-plain-wrap"><textarea wrap="soft" class="crayon-plain print-no" data-settings="" readonly="" style="tab-size: 4; font-size: 14px !important; line-height: 16px !important; z-index: 0; opacity: 0; overflow: hidden;">Prediction quality: 3406.73 MSE (58.37 RMSE)</textarea></div>
			<div class="crayon-main" style="position: relative; z-index: 1; overflow: hidden;">
				<table class="crayon-table" style="">
					<tbody><tr class="crayon-row">
				<td class="crayon-nums " data-settings="show">
					<div class="crayon-nums-content" style="font-size: 14px !important; line-height: 16px !important;"><div class="crayon-num" data-line="crayon-5a8d751eab262481159729-1">1</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 14px !important; line-height: 16px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-5a8d751eab262481159729-1">Prediction quality: 3406.73 MSE (58.37 RMSE)</div></div></td>
					</tr>
				</tbody></table>
			</div>
		</div>
<!-- [Format Time: 0.0001 seconds] -->
<p> </p>
<p>The prediction accuracy is lower than before. This is not only on account of the longer forecast horizon but also based on the fact that the constructed model only assumes an autoregressive order of 1. This means that predictions into the future rely on the last observation with $\phi = -0.3570$ implying that when predicted the second future value, the prediction relies only on the value of the previous period which itself is a forecast.</p><!-- Crayon Syntax Highlighter v_2.7.2_beta -->

		<div id="crayon-5a8d751eab264177143417" class="crayon-syntax crayon-theme-classic crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style="margin-top: 12px; margin-bottom: 12px; font-size: 14px !important; line-height: 16px !important; height: auto;">
		
			<div class="crayon-plain-wrap"><textarea wrap="soft" class="crayon-plain print-no" data-settings="" readonly="" style="tab-size: 4; font-size: 14px !important; line-height: 16px !important; z-index: 0; opacity: 0; overflow: hidden;">plt.plot(y_true, label='Observed', color='#006699')
plt.plot(y_hat, label='Out-of-Sample Forecast', color='#ff0066')
ax.set_xlabel('Date')
ax.set_ylabel('Passengers')
plt.legend(loc='upper left');
plt.savefig('./img/out_of_sample_comparison.png')
plt.show()</textarea></div>
			<div class="crayon-main" style="position: relative; z-index: 1; overflow: hidden;">
				<table class="crayon-table" style="">
					<tbody><tr class="crayon-row">
				<td class="crayon-nums " data-settings="show">
					<div class="crayon-nums-content" style="font-size: 14px !important; line-height: 16px !important;"><div class="crayon-num" data-line="crayon-5a8d751eab264177143417-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a8d751eab264177143417-2">2</div><div class="crayon-num" data-line="crayon-5a8d751eab264177143417-3">3</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a8d751eab264177143417-4">4</div><div class="crayon-num" data-line="crayon-5a8d751eab264177143417-5">5</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a8d751eab264177143417-6">6</div><div class="crayon-num" data-line="crayon-5a8d751eab264177143417-7">7</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 14px !important; line-height: 16px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-5a8d751eab264177143417-1"><span class="crayon-v">plt</span><span class="crayon-sy">.</span><span class="crayon-e">plot</span><span class="crayon-sy">(</span><span class="crayon-v">y_true</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">label</span><span class="crayon-o">=</span><span class="crayon-s">'Observed'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">color</span><span class="crayon-o">=</span><span class="crayon-s">'#006699'</span><span class="crayon-sy">)</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a8d751eab264177143417-2"><span class="crayon-v">plt</span><span class="crayon-sy">.</span><span class="crayon-e">plot</span><span class="crayon-sy">(</span><span class="crayon-v">y_hat</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">label</span><span class="crayon-o">=</span><span class="crayon-s">'Out-of-Sample Forecast'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">color</span><span class="crayon-o">=</span><span class="crayon-s">'#ff0066'</span><span class="crayon-sy">)</span></div><div class="crayon-line" id="crayon-5a8d751eab264177143417-3"><span class="crayon-v">ax</span><span class="crayon-sy">.</span><span class="crayon-e">set_xlabel</span><span class="crayon-sy">(</span><span class="crayon-s">'Date'</span><span class="crayon-sy">)</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a8d751eab264177143417-4"><span class="crayon-v">ax</span><span class="crayon-sy">.</span><span class="crayon-e">set_ylabel</span><span class="crayon-sy">(</span><span class="crayon-s">'Passengers'</span><span class="crayon-sy">)</span></div><div class="crayon-line" id="crayon-5a8d751eab264177143417-5"><span class="crayon-v">plt</span><span class="crayon-sy">.</span><span class="crayon-e">legend</span><span class="crayon-sy">(</span><span class="crayon-v">loc</span><span class="crayon-o">=</span><span class="crayon-s">'upper left'</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a8d751eab264177143417-6"><span class="crayon-v">plt</span><span class="crayon-sy">.</span><span class="crayon-e">savefig</span><span class="crayon-sy">(</span><span class="crayon-s">'./img/out_of_sample_comparison.png'</span><span class="crayon-sy">)</span></div><div class="crayon-line" id="crayon-5a8d751eab264177143417-7"><span class="crayon-v">plt</span><span class="crayon-sy">.</span><span class="crayon-e">show</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span></div></div></td>
					</tr>
				</tbody></table>
			</div>
		</div>
<!-- [Format Time: 0.0011 seconds] -->
<p><a href="https://i1.wp.com/dacatay.com/wp-content/uploads/2017/11/out_of_sample_comparison.png"><img data-attachment-id="1455" data-permalink="http://dacatay.com/data-science/part-4-time-series-prediction-arima-python/attachment/out_of_sample_comparison/" data-orig-file="https://i2.wp.com/dacatay.com/wp-content/uploads/2017/11/out_of_sample_comparison.png?fit=1920%2C960" data-orig-size="1920,960" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="out_of_sample_comparison" data-image-description="" data-medium-file="https://i2.wp.com/dacatay.com/wp-content/uploads/2017/11/out_of_sample_comparison.png?fit=300%2C150" data-large-file="https://i0.wp.com/dacatay.com/wp-content/uploads/2017/11/out_of_sample_comparison.png?fit=840%2C420" class="alignnone size-large wp-image-1455" src="./Part 4_ Time Series Prediction with ARIMA Models in Python - dacatay_files/out_of_sample_comparison.png" alt="" width="556" height="278" srcset="https://i0.wp.com/dacatay.com/wp-content/uploads/2017/11/out_of_sample_comparison.png?resize=1024%2C512 1024w, https://i1.wp.com/dacatay.com/wp-content/uploads/2017/11/out_of_sample_comparison.png?resize=300%2C150 300w, https://i2.wp.com/dacatay.com/wp-content/uploads/2017/11/out_of_sample_comparison.png?resize=768%2C384 768w, https://i2.wp.com/dacatay.com/wp-content/uploads/2017/11/out_of_sample_comparison.png?resize=1200%2C600 1200w, https://i0.wp.com/dacatay.com/wp-content/uploads/2017/11/out_of_sample_comparison.png?w=1680 1680w" sizes="(max-width: 709px) 85vw, (max-width: 909px) 67vw, (max-width: 1362px) 62vw, 840px"></a></p>
<h2>Long-term Forecasting</h2>
<p>Finally, a 10 year ahead forecast, leverageing a seasonal ARIMA model trained on the complete time series <code>y</code>. Grid search found the best model to be of form <code>SARIMAX(2, 1, 3)(1, 2, 1)12</code> for the data vector <code>y</code>.</p><!-- Crayon Syntax Highlighter v_2.7.2_beta -->

		<div id="crayon-5a8d751eab266343144434" class="crayon-syntax crayon-theme-classic crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style="margin-top: 12px; margin-bottom: 12px; font-size: 14px !important; line-height: 16px !important; height: auto;">
		
			<div class="crayon-plain-wrap"><textarea wrap="soft" class="crayon-plain print-no" data-settings="" readonly="" style="tab-size: 4; font-size: 14px !important; line-height: 16px !important; z-index: 0; opacity: 0; overflow: hidden;"># build model and fit
res = sm.tsa.statespace.SARIMAX(y,
                                order=(2, 1, 3),
                                seasonal_order=(1, 2, 1, 12),
                                enforce_stationarity=True,
                                enforce_invertibility=True).fit()

# get forecast 120 steps ahead in future
pred_uc = res.get_forecast(steps=120)

# get confidence intervals of forecasts
pred_ci = pred_uc.conf_int()

# plot time series and long-term forecast
ax = y.plot(label='Observed', figsize=(16, 8), color='#006699');
pred_uc.predicted_mean.plot(ax=ax, label='Forecast', color='#ff0066');
ax.fill_between(pred_ci.index,
                pred_ci.iloc[:, 0],
                pred_ci.iloc[:, 1], color='#ff0066', alpha=.25);
ax.set_xlabel('Date');
ax.set_ylabel('Passengers');
plt.legend(loc='upper left')
plt.show()</textarea></div>
			<div class="crayon-main" style="position: relative; z-index: 1; overflow: hidden;">
				<table class="crayon-table" style="">
					<tbody><tr class="crayon-row">
				<td class="crayon-nums " data-settings="show">
					<div class="crayon-nums-content" style="font-size: 14px !important; line-height: 16px !important;"><div class="crayon-num" data-line="crayon-5a8d751eab266343144434-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a8d751eab266343144434-2">2</div><div class="crayon-num" data-line="crayon-5a8d751eab266343144434-3">3</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a8d751eab266343144434-4">4</div><div class="crayon-num" data-line="crayon-5a8d751eab266343144434-5">5</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a8d751eab266343144434-6">6</div><div class="crayon-num" data-line="crayon-5a8d751eab266343144434-7">7</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a8d751eab266343144434-8">8</div><div class="crayon-num" data-line="crayon-5a8d751eab266343144434-9">9</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a8d751eab266343144434-10">10</div><div class="crayon-num" data-line="crayon-5a8d751eab266343144434-11">11</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a8d751eab266343144434-12">12</div><div class="crayon-num" data-line="crayon-5a8d751eab266343144434-13">13</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a8d751eab266343144434-14">14</div><div class="crayon-num" data-line="crayon-5a8d751eab266343144434-15">15</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a8d751eab266343144434-16">16</div><div class="crayon-num" data-line="crayon-5a8d751eab266343144434-17">17</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a8d751eab266343144434-18">18</div><div class="crayon-num" data-line="crayon-5a8d751eab266343144434-19">19</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a8d751eab266343144434-20">20</div><div class="crayon-num" data-line="crayon-5a8d751eab266343144434-21">21</div><div class="crayon-num crayon-striped-num" data-line="crayon-5a8d751eab266343144434-22">22</div><div class="crayon-num" data-line="crayon-5a8d751eab266343144434-23">23</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 14px !important; line-height: 16px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-5a8d751eab266343144434-1"><span class="crayon-c"># build model and fit</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a8d751eab266343144434-2"><span class="crayon-v">res</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">sm</span><span class="crayon-sy">.</span><span class="crayon-v">tsa</span><span class="crayon-sy">.</span><span class="crayon-v">statespace</span><span class="crayon-sy">.</span><span class="crayon-e">SARIMAX</span><span class="crayon-sy">(</span><span class="crayon-v">y</span><span class="crayon-sy">,</span></div><div class="crayon-line" id="crayon-5a8d751eab266343144434-3"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">order</span><span class="crayon-o">=</span><span class="crayon-sy">(</span><span class="crayon-cn">2</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-cn">1</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-cn">3</span><span class="crayon-sy">)</span><span class="crayon-sy">,</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a8d751eab266343144434-4"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">seasonal_order</span><span class="crayon-o">=</span><span class="crayon-sy">(</span><span class="crayon-cn">1</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-cn">2</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-cn">1</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-cn">12</span><span class="crayon-sy">)</span><span class="crayon-sy">,</span></div><div class="crayon-line" id="crayon-5a8d751eab266343144434-5"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">enforce_stationarity</span><span class="crayon-o">=</span><span class="crayon-t">True</span><span class="crayon-sy">,</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a8d751eab266343144434-6"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">enforce_invertibility</span><span class="crayon-o">=</span><span class="crayon-t">True</span><span class="crayon-sy">)</span><span class="crayon-sy">.</span><span class="crayon-e">fit</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span></div><div class="crayon-line" id="crayon-5a8d751eab266343144434-7">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5a8d751eab266343144434-8"><span class="crayon-c"># get forecast 120 steps ahead in future</span></div><div class="crayon-line" id="crayon-5a8d751eab266343144434-9"><span class="crayon-v">pred_uc</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">res</span><span class="crayon-sy">.</span><span class="crayon-e">get_forecast</span><span class="crayon-sy">(</span><span class="crayon-v">steps</span><span class="crayon-o">=</span><span class="crayon-cn">120</span><span class="crayon-sy">)</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a8d751eab266343144434-10">&nbsp;</div><div class="crayon-line" id="crayon-5a8d751eab266343144434-11"><span class="crayon-c"># get confidence intervals of forecasts</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a8d751eab266343144434-12"><span class="crayon-v">pred_ci</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">pred_uc</span><span class="crayon-sy">.</span><span class="crayon-e">conf_int</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span></div><div class="crayon-line" id="crayon-5a8d751eab266343144434-13">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5a8d751eab266343144434-14"><span class="crayon-c"># plot time series and long-term forecast</span></div><div class="crayon-line" id="crayon-5a8d751eab266343144434-15"><span class="crayon-v">ax</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">y</span><span class="crayon-sy">.</span><span class="crayon-e">plot</span><span class="crayon-sy">(</span><span class="crayon-v">label</span><span class="crayon-o">=</span><span class="crayon-s">'Observed'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">figsize</span><span class="crayon-o">=</span><span class="crayon-sy">(</span><span class="crayon-cn">16</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-cn">8</span><span class="crayon-sy">)</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">color</span><span class="crayon-o">=</span><span class="crayon-s">'#006699'</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a8d751eab266343144434-16"><span class="crayon-v">pred_uc</span><span class="crayon-sy">.</span><span class="crayon-v">predicted_mean</span><span class="crayon-sy">.</span><span class="crayon-e">plot</span><span class="crayon-sy">(</span><span class="crayon-v">ax</span><span class="crayon-o">=</span><span class="crayon-v">ax</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">label</span><span class="crayon-o">=</span><span class="crayon-s">'Forecast'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">color</span><span class="crayon-o">=</span><span class="crayon-s">'#ff0066'</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a8d751eab266343144434-17"><span class="crayon-v">ax</span><span class="crayon-sy">.</span><span class="crayon-e">fill_between</span><span class="crayon-sy">(</span><span class="crayon-v">pred_ci</span><span class="crayon-sy">.</span><span class="crayon-v">index</span><span class="crayon-sy">,</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a8d751eab266343144434-18"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">pred_ci</span><span class="crayon-sy">.</span><span class="crayon-v">iloc</span><span class="crayon-sy">[</span><span class="crayon-o">:</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-cn">0</span><span class="crayon-sy">]</span><span class="crayon-sy">,</span></div><div class="crayon-line" id="crayon-5a8d751eab266343144434-19"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">pred_ci</span><span class="crayon-sy">.</span><span class="crayon-v">iloc</span><span class="crayon-sy">[</span><span class="crayon-o">:</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-cn">1</span><span class="crayon-sy">]</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">color</span><span class="crayon-o">=</span><span class="crayon-s">'#ff0066'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">alpha</span><span class="crayon-o">=</span><span class="crayon-sy">.</span><span class="crayon-cn">25</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a8d751eab266343144434-20"><span class="crayon-v">ax</span><span class="crayon-sy">.</span><span class="crayon-e">set_xlabel</span><span class="crayon-sy">(</span><span class="crayon-s">'Date'</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5a8d751eab266343144434-21"><span class="crayon-v">ax</span><span class="crayon-sy">.</span><span class="crayon-e">set_ylabel</span><span class="crayon-sy">(</span><span class="crayon-s">'Passengers'</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5a8d751eab266343144434-22"><span class="crayon-v">plt</span><span class="crayon-sy">.</span><span class="crayon-e">legend</span><span class="crayon-sy">(</span><span class="crayon-v">loc</span><span class="crayon-o">=</span><span class="crayon-s">'upper left'</span><span class="crayon-sy">)</span></div><div class="crayon-line" id="crayon-5a8d751eab266343144434-23"><span class="crayon-v">plt</span><span class="crayon-sy">.</span><span class="crayon-e">show</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span></div></div></td>
					</tr>
				</tbody></table>
			</div>
		</div>
<!-- [Format Time: 0.0031 seconds] -->
<p><a href="https://i0.wp.com/dacatay.com/wp-content/uploads/2017/11/long_term_forecast.png"><img data-attachment-id="1456" data-permalink="http://dacatay.com/data-science/part-4-time-series-prediction-arima-python/attachment/long_term_forecast/" data-orig-file="https://i0.wp.com/dacatay.com/wp-content/uploads/2017/11/long_term_forecast.png?fit=1920%2C960" data-orig-size="1920,960" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="long_term_forecast" data-image-description="" data-medium-file="https://i1.wp.com/dacatay.com/wp-content/uploads/2017/11/long_term_forecast.png?fit=300%2C150" data-large-file="https://i2.wp.com/dacatay.com/wp-content/uploads/2017/11/long_term_forecast.png?fit=840%2C420" class="alignnone size-large wp-image-1456" src="./Part 4_ Time Series Prediction with ARIMA Models in Python - dacatay_files/long_term_forecast.png" alt="" width="556" height="278" srcset="https://i0.wp.com/dacatay.com/wp-content/uploads/2017/11/long_term_forecast.png?resize=1024%2C512 1024w, https://i1.wp.com/dacatay.com/wp-content/uploads/2017/11/long_term_forecast.png?resize=300%2C150 300w, https://i1.wp.com/dacatay.com/wp-content/uploads/2017/11/long_term_forecast.png?resize=768%2C384 768w, https://i1.wp.com/dacatay.com/wp-content/uploads/2017/11/long_term_forecast.png?resize=1200%2C600 1200w, https://i0.wp.com/dacatay.com/wp-content/uploads/2017/11/long_term_forecast.png?w=1680 1680w" sizes="(max-width: 709px) 85vw, (max-width: 909px) 67vw, (max-width: 1362px) 62vw, 840px"></a></p>
<p>Both the forecasts and associated confidence interval that we have generated can now be used to further understand the time series and foresee what to expect. The forecast shows that the time series is expected to continue increasing at a steady pace. Moreover, the seasonal magnitude is expected to grow over the years also.</p>
<p>However, as we forecast further out into the future, it is natural for us to become less confident in our values. This is reflected by the confidence intervals generated by our model, which grow larger as we move further out into the future. It is also important to note, that the model does not “learn” anything new besides the patterns of the historic data it has been trained on.</p>
<h1>Summary</h1>
<p>In this tutorial we learned the basics of ARIMA models and how to fit an ARIMA model to our untransformed data. Moreover, we learned how to implement model selecting using grid search to find the model with the lowest AIC using Python. With the optimal parametersetting we were able to conduct in and out-of-sample prediction on our fitted data model.</p>
<p>In the next part discuss <a href="http://dacatay.com/uncategorized/part-5-time-series-prediction-prophet-python/">Time Series Prediction using Prohphet in Python</a>. Prophet is a very efficient time series forecasting modules open sourced by the Facebook data science team.</p>
<div class="sharedaddy sd-sharing-enabled"><div class="robots-nocontent sd-block sd-social sd-social-icon sd-sharing"><h3 class="sd-title">Share this:</h3><div class="sd-content"><ul><li class="share-twitter"><a rel="nofollow" data-shared="sharing-twitter-1282" class="share-twitter sd-button share-icon no-text" href="http://dacatay.com/data-science/part-4-time-series-prediction-arima-python/?share=twitter&amp;nb=1" target="_blank" title="Click to share on Twitter"><span></span><span class="sharing-screen-reader-text">Click to share on Twitter (Opens in new window)</span></a></li><li class="share-facebook"><a rel="nofollow" data-shared="sharing-facebook-1282" class="share-facebook sd-button share-icon no-text" href="http://dacatay.com/data-science/part-4-time-series-prediction-arima-python/?share=facebook&amp;nb=1" target="_blank" title="Click to share on Facebook"><span></span><span class="sharing-screen-reader-text">Click to share on Facebook (Opens in new window)</span></a></li><li class="share-google-plus-1"><a rel="nofollow" data-shared="sharing-google-1282" class="share-google-plus-1 sd-button share-icon no-text" href="http://dacatay.com/data-science/part-4-time-series-prediction-arima-python/?share=google-plus-1&amp;nb=1" target="_blank" title="Click to share on Google+"><span></span><span class="sharing-screen-reader-text">Click to share on Google+ (Opens in new window)</span></a></li><li class="share-end"></li></ul></div></div></div>
<div class="sharedaddy sd-block sd-like jetpack-likes-widget-wrapper jetpack-likes-widget-loaded" id="like-post-wrapper-138715424-1282-5a8d751ebded1" data-src="https://widgets.wp.com/likes/#blog_id=138715424&amp;post_id=1282&amp;origin=dacatay.com&amp;obj_id=138715424-1282-5a8d751ebded1" data-name="like-post-frame-138715424-1282-5a8d751ebded1"><h3 class="sd-title">Like this:</h3><div class="likes-widget-placeholder post-likes-widget-placeholder" style="height: 55px; display: none;"><span class="button"><span>Like</span></span> <span class="loading">Loading...</span></div><iframe name="like-post-frame-138715424-1282-5a8d751ebded1" src="./Part 4_ Time Series Prediction with ARIMA Models in Python - dacatay_files/saved_resource(2).html" height="55px" width="100%" frameborder="0" scrolling="no"></iframe><span class="sd-text-color"></span><a class="sd-link-color"></a></div>
<div id="jp-relatedposts" class="jp-relatedposts" style="display: block;">
	<h3 class="jp-relatedposts-headline"><em>Related</em></h3>
<div class="jp-relatedposts-items jp-relatedposts-items-minimal jp-relatedposts-grid "><p class="jp-relatedposts-post jp-relatedposts-post0" data-post-id="1284" data-post-format="false"><span class="jp-relatedposts-post-title"><a class="jp-relatedposts-post-a" href="http://dacatay.com/data-science/part-5-time-series-prediction-prophet-python/" title="Part 5: Time Series Prediction with Prophet in Python

Welcome to the fifth part Time Series Prediction with Prophet in Python of the Comprehensive Guide on Time Series Analytics, Decomposition and Prediction with Python. In this part we introduce the Prophet forecasting model open sourced by Facebook and conduct out-of-sample predictions on our time series using the Python programming…" rel="nofollow" data-origin="1282" data-position="0">Part 5: Time Series Prediction with Prophet in Python</a></span><span class="jp-relatedposts-post-date">November 21, 2017</span><span class="jp-relatedposts-post-context">In "Data Science"</span></p><p class="jp-relatedposts-post jp-relatedposts-post1" data-post-id="1276" data-post-format="false"><span class="jp-relatedposts-post-title"><a class="jp-relatedposts-post-a" href="http://dacatay.com/data-science/part-2-time-series-decomposition-python/" title="Part 2: Visual Time Series Decomposition with Python

Welcome to the second part Visual Time Series Decomposition of the Comprehensive Guide on Time Series Analytics, Decomposition and Prediction with Python. In this section we discuss how to decompose time series. Moreover, we program further time series analysis tool using Python which will allow us to visually present the components of…" rel="nofollow" data-origin="1282" data-position="1">Part 2: Visual Time Series Decomposition with Python</a></span><span class="jp-relatedposts-post-date">November 21, 2017</span><span class="jp-relatedposts-post-context">In "Data Science"</span></p><p class="jp-relatedposts-post jp-relatedposts-post2" data-post-id="1272" data-post-format="false"><span class="jp-relatedposts-post-title"><a class="jp-relatedposts-post-a" href="http://dacatay.com/data-science/comprehensive-guide-time-series-analytics-visualization-prediction-python/" title="Comprehensive Guide to Time Series Analytics, Visualization and Prediction with Python

This notebook collection provides you with a comprehensive overview of time series analytics, visualization and prediction using the Python programming language. Knowledge of these concepts and methodologies are the base requirement for every good data scientist. This includes (at least) a basic knowledge of the underlying statistics and math as…" rel="nofollow" data-origin="1282" data-position="2">Comprehensive Guide to Time Series Analytics, Visualization and Prediction with Python</a></span><span class="jp-relatedposts-post-date">November 21, 2017</span><span class="jp-relatedposts-post-context">In "Data Science"</span></p></div></div>	</div><!-- .entry-content -->

	<footer class="entry-footer">
		<span class="byline"><span class="author vcard"><img src="./Part 4_ Time Series Prediction with ARIMA Models in Python - dacatay_files/dka.png" width="49" height="49" alt="admin" class="avatar avatar-49 wp-user-avatar wp-user-avatar-49 alignnone photo"><span class="screen-reader-text">Author </span> <a class="url fn n" href="http://dacatay.com/author/admin/">admin</a></span></span><span class="posted-on"><span class="screen-reader-text">Posted on </span><a href="http://dacatay.com/data-science/part-4-time-series-prediction-arima-python/" rel="bookmark"><time class="entry-date published" datetime="2017-11-21T16:49:14+00:00">November 21, 2017</time><time class="updated" datetime="2017-12-01T17:38:28+00:00">December 1, 2017</time></a></span><span class="cat-links"><span class="screen-reader-text">Categories </span><a href="http://dacatay.com/category/data-science/" rel="category tag">Data Science</a>, <a href="http://dacatay.com/category/python/" rel="category tag">Python</a></span><span class="tags-links"><span class="screen-reader-text">Tags </span><a href="http://dacatay.com/tag/arima/" rel="tag">ARIMA</a>, <a href="http://dacatay.com/tag/forecast/" rel="tag">forecast</a>, <a href="http://dacatay.com/tag/prediction/" rel="tag">prediction</a>, <a href="http://dacatay.com/tag/python/" rel="tag">Python</a>, <a href="http://dacatay.com/tag/time-series/" rel="tag">time series</a>, <a href="http://dacatay.com/tag/time-series-forecast/" rel="tag">time series forecast</a>, <a href="http://dacatay.com/tag/time-series-prediction/" rel="tag">time series prediction</a></span>			</footer><!-- .entry-footer -->
</article><!-- #post-## -->

<div id="comments" class="comments-area">

	
	
		<div id="respond" class="comment-respond">
		<h2 id="reply-title" class="comment-reply-title">Leave a Reply <small><a rel="nofollow" id="cancel-comment-reply-link" href="http://dacatay.com/data-science/part-4-time-series-prediction-arima-python/#respond" style="display:none;">Cancel reply</a></small></h2>			<form action="http://dacatay.com/wp-comments-post.php" method="post" id="commentform" class="comment-form" novalidate="">
				<p class="comment-notes"><span id="email-notes">Your email address will not be published.</span> Required fields are marked <span class="required">*</span></p><p class="comment-form-comment"><label for="comment">Comment</label> <textarea id="comment" name="comment" cols="45" rows="8" maxlength="65525" aria-required="true" required="required"></textarea></p><p class="comment-form-author"><label for="author">Name <span class="required">*</span></label> <input id="author" name="author" type="text" value="" size="30" maxlength="245" aria-required="true" required="required"></p>
<p class="comment-form-email"><label for="email">Email <span class="required">*</span></label> <input id="email" name="email" type="email" value="" size="30" maxlength="100" aria-describedby="email-notes" aria-required="true" required="required"></p>
<p class="comment-form-url"><label for="url">Website</label> <input id="url" name="url" type="url" value="" size="30" maxlength="200"></p>
<p class="form-submit"><input name="submit" type="submit" id="submit" class="submit" value="Post Comment"> <input type="hidden" name="comment_post_ID" value="1282" id="comment_post_ID">
<input type="hidden" name="comment_parent" id="comment_parent" value="0">
</p><p class="comment-subscription-form"><input type="checkbox" name="subscribe_comments" id="subscribe_comments" value="subscribe" style="width: auto; -moz-appearance: checkbox; -webkit-appearance: checkbox;"> <label class="subscribe-label" id="subscribe-label" for="subscribe_comments">Notify me of follow-up comments by email.</label></p><p class="comment-subscription-form"><input type="checkbox" name="subscribe_blog" id="subscribe_blog" value="subscribe" style="width: auto; -moz-appearance: checkbox; -webkit-appearance: checkbox;"> <label class="subscribe-label" id="subscribe-blog-label" for="subscribe_blog">Notify me of new posts by email.</label></p>			</form>
			</div><!-- #respond -->
	
</div><!-- .comments-area -->

	<nav class="navigation post-navigation" role="navigation">
		<h2 class="screen-reader-text">Post navigation</h2>
		<div class="nav-links"><div class="nav-previous"><a href="http://dacatay.com/data-science/part-3-time-series-stationarity-python/" rel="prev"><span class="meta-nav" aria-hidden="true">Previous</span> <span class="screen-reader-text">Previous post:</span> <span class="post-title">Part 3: Time Series and Stationarity with Python</span></a></div><div class="nav-next"><a href="http://dacatay.com/data-science/part-5-time-series-prediction-prophet-python/" rel="next"><span class="meta-nav" aria-hidden="true">Next</span> <span class="screen-reader-text">Next post:</span> <span class="post-title">Part 5: Time Series Prediction with Prophet in Python</span></a></div></div>
	</nav>
	</main><!-- .site-main -->

	
</div><!-- .content-area -->


	<aside id="secondary" class="sidebar widget-area" role="complementary">
		<section id="text-3" class="widget widget_text"><h2 class="widget-title">About</h2>			<div class="textwidget"><p>Welcome to my quant and data science blog. All code provided is free to use and can also be found on my <a href="https://github.com/dacatay">github</a>.</p>
</div>
		</section><section id="search-2" class="widget widget_search">
<form role="search" method="get" class="search-form" action="http://dacatay.com/">
	<label>
		<span class="screen-reader-text">Search for:</span>
		<input type="search" class="search-field" placeholder="Search …" value="" name="s">
	</label>
	<button type="submit" class="search-submit"><span class="screen-reader-text">Search</span></button>
</form>
</section><style>
.rpwe-block ul{list-style:none!important;margin-left:0!important;padding-left:0!important;}.rpwe-block li{border-bottom:1px solid #eee;margin-bottom:10px;padding-bottom:10px;list-style-type: none;}.rpwe-block a{display:inline!important;text-decoration:none;}.rpwe-block h3{background:none!important;clear:none;margin-bottom:0!important;margin-top:0!important;font-weight:400;font-size:12px!important;line-height:1.5em;}.rpwe-thumb{border:1px solid #EEE!important;box-shadow:none!important;margin:2px 10px 2px 0;padding:3px!important;}.rpwe-summary{font-size:12px;}.rpwe-time{color:#bbb;font-size:11px;}.rpwe-comment{color:#bbb;font-size:11px;padding-left:5px;}.rpwe-alignleft{display:inline;float:left;}.rpwe-alignright{display:inline;float:right;}.rpwe-aligncenter{display:block;margin-left: auto;margin-right: auto;}.rpwe-clearfix:before,.rpwe-clearfix:after{content:"";display:table !important;}.rpwe-clearfix:after{clear:both;}.rpwe-clearfix{zoom:1;}
</style>
	<section id="rpwe_widget-3" class="widget rpwe_widget recent-posts-extended"><h2 class="widget-title">Recent Posts</h2><div class="rpwe-block "><ul class="rpwe-ul"><li class="rpwe-li rpwe-clearfix"><a class="rpwe-img" href="http://dacatay.com/data-science/download-free-intraday-stock-data-from-google-finance-with-python/" rel="bookmark"><img class="rpwe-alignleft rpwe-thumb" src="./Part 4_ Time Series Prediction with ARIMA Models in Python - dacatay_files/candlestick-e1512473067603-75x50.png" alt="Download Free Intraday Stock Data from Google Finance with Python"></a><h3 class="rpwe-title"><a href="http://dacatay.com/data-science/download-free-intraday-stock-data-from-google-finance-with-python/" title="Permalink to Download Free Intraday Stock Data from Google Finance with Python" rel="bookmark">Download Free Intraday Stock Data from Google Finance with Python</a></h3><time class="rpwe-time published" datetime="2017-12-05T15:55:40+00:00">December 5, 2017</time><div class="rpwe-summary">Reading Time: 3 minutesIn this article I will show you how to easily download free …</div></li><li class="rpwe-li rpwe-clearfix"><a class="rpwe-img" href="http://dacatay.com/data-science/comprehensive-guide-time-series-analytics-visualization-prediction-python/" rel="bookmark"><img class="rpwe-alignleft rpwe-thumb" src="./Part 4_ Time Series Prediction with ARIMA Models in Python - dacatay_files/pexels-photo-277371-75x50.jpeg" alt="Comprehensive Guide to Time Series Analytics, Visualization and Prediction with Python"></a><h3 class="rpwe-title"><a href="http://dacatay.com/data-science/comprehensive-guide-time-series-analytics-visualization-prediction-python/" title="Permalink to Comprehensive Guide to Time Series Analytics, Visualization and Prediction with Python" rel="bookmark">Comprehensive Guide to Time Series Analytics, Visualization and Prediction with Python</a></h3><time class="rpwe-time published" datetime="2017-11-21T16:54:36+00:00">November 21, 2017</time><div class="rpwe-summary">Reading Time: 1 minuteThis notebook collection provides you with a comprehensive overview of time series …</div></li><li class="rpwe-li rpwe-clearfix"><a class="rpwe-img" href="http://dacatay.com/data-science/part-6-time-series-prediction-neural-networks-python/" rel="bookmark"><img class="rpwe-alignleft rpwe-thumb" src="./Part 4_ Time Series Prediction with ARIMA Models in Python - dacatay_files/mechanical-2901094_1920-e1512140315767-75x50.jpg" alt="Part 6: Time Series Prediction with Neural Networks in Python"></a><h3 class="rpwe-title"><a href="http://dacatay.com/data-science/part-6-time-series-prediction-neural-networks-python/" title="Permalink to Part 6: Time Series Prediction with Neural Networks in Python" rel="bookmark">Part 6: Time Series Prediction with Neural Networks in Python</a></h3><time class="rpwe-time published" datetime="2017-11-21T16:51:35+00:00">November 21, 2017</time><div class="rpwe-summary">Reading Time: 10 minutesWelcome to the sixth part Time Series Prediction with Neural Networks in …</div></li><li class="rpwe-li rpwe-clearfix"><a class="rpwe-img" href="http://dacatay.com/data-science/part-5-time-series-prediction-prophet-python/" rel="bookmark"><img class="rpwe-alignleft rpwe-thumb" src="./Part 4_ Time Series Prediction with ARIMA Models in Python - dacatay_files/pexels-photo-269613-e1512140594125-75x50.jpeg" alt="Part 5: Time Series Prediction with Prophet in Python"></a><h3 class="rpwe-title"><a href="http://dacatay.com/data-science/part-5-time-series-prediction-prophet-python/" title="Permalink to Part 5: Time Series Prediction with Prophet in Python" rel="bookmark">Part 5: Time Series Prediction with Prophet in Python</a></h3><time class="rpwe-time published" datetime="2017-11-21T16:50:00+00:00">November 21, 2017</time><div class="rpwe-summary">Reading Time: 4 minutesWelcome to the fifth part Time Series Prediction with Prophet in Python …</div></li><li class="rpwe-li rpwe-clearfix"><a class="rpwe-img" href="http://dacatay.com/data-science/part-3-time-series-stationarity-python/" rel="bookmark"><img class="rpwe-alignleft rpwe-thumb" src="./Part 4_ Time Series Prediction with ARIMA Models in Python - dacatay_files/pexels-photo-678248-75x50.png" alt="Part 3: Time Series and Stationarity with Python"></a><h3 class="rpwe-title"><a href="http://dacatay.com/data-science/part-3-time-series-stationarity-python/" title="Permalink to Part 3: Time Series and Stationarity with Python" rel="bookmark">Part 3: Time Series and Stationarity with Python</a></h3><time class="rpwe-time published" datetime="2017-11-21T16:48:34+00:00">November 21, 2017</time><div class="rpwe-summary">Reading Time: 7 minutesWelcome to the third part Time Series and Stationarity of the Comprehensive …</div></li></ul></div><!-- Generated by http://wordpress.org/plugins/recent-posts-widget-extended/ --></section><section id="categories-2" class="widget widget_categories"><h2 class="widget-title">Categories</h2>		<ul>
	<li class="cat-item cat-item-5"><a href="http://dacatay.com/category/data-science/">Data Science</a>
</li>
	<li class="cat-item cat-item-10"><a href="http://dacatay.com/category/python/">Python</a>
</li>
	<li class="cat-item cat-item-1"><a href="http://dacatay.com/category/uncategorized/">Uncategorized</a>
</li>
		</ul>
</section><section id="f2-tagcloud-2" class="widget widget_f2-tagcloud"><h2 class="widget-title">Tags</h2><div class="tagcloud" style="text-align: right;"><ul class="wp-tag-cloud" role="list">
	<li><a href="http://dacatay.com/tag/prediction/" class="tag-cloud-link tag-link-106 tag-link-position-1" style="font-size: 1em;">prediction</a></li>
	<li><a href="http://dacatay.com/tag/pandas/" class="tag-cloud-link tag-link-31 tag-link-position-2" style="font-size: 1em;">pandas</a></li>
	<li><a href="http://dacatay.com/tag/portfolio/" class="tag-cloud-link tag-link-80 tag-link-position-3" style="font-size: 1em;">portfolio</a></li>
	<li><a href="http://dacatay.com/tag/quantitative-finance/" class="tag-cloud-link tag-link-78 tag-link-position-4" style="font-size: 1em;">quantitative finance</a></li>
	<li><a href="http://dacatay.com/tag/forecast/" class="tag-cloud-link tag-link-105 tag-link-position-5" style="font-size: 1em;">forecast</a></li>
	<li><a href="http://dacatay.com/tag/prophet/" class="tag-cloud-link tag-link-107 tag-link-position-6" style="font-size: 1em;">prophet</a></li>
	<li><a href="http://dacatay.com/tag/visualization/" class="tag-cloud-link tag-link-90 tag-link-position-7" style="font-size: 1em;">visualization</a></li>
	<li><a href="http://dacatay.com/tag/jupyter-notebook/" class="tag-cloud-link tag-link-73 tag-link-position-8" style="font-size: 1em;">Jupyter Notebook</a></li>
	<li><a href="http://dacatay.com/tag/programming/" class="tag-cloud-link tag-link-32 tag-link-position-9" style="font-size: 1em;">Programming</a></li>
	<li><a href="http://dacatay.com/tag/pycharm/" class="tag-cloud-link tag-link-33 tag-link-position-10" style="font-size: 1em;">PyCharm</a></li>
	<li><a href="http://dacatay.com/tag/keras/" class="tag-cloud-link tag-link-77 tag-link-position-11" style="font-size: 1em;">keras</a></li>
	<li><a href="http://dacatay.com/tag/data-science/" class="tag-cloud-link tag-link-75 tag-link-position-12" style="font-size: 1em;">data science</a></li>
	<li><a href="http://dacatay.com/tag/jupyter/" class="tag-cloud-link tag-link-72 tag-link-position-13" style="font-size: 1em;">Jupyter</a></li>
	<li><a href="http://dacatay.com/tag/python/" class="tag-cloud-link tag-link-34 tag-link-position-14" style="font-size: 1em;">Python</a></li>
	<li><a href="http://dacatay.com/tag/quant/" class="tag-cloud-link tag-link-79 tag-link-position-15" style="font-size: 1em;">quant</a></li>
	<li><a href="http://dacatay.com/tag/finance/" class="tag-cloud-link tag-link-85 tag-link-position-16" style="font-size: 1em;">finance</a></li>
	<li><a href="http://dacatay.com/tag/anaconda/" class="tag-cloud-link tag-link-17 tag-link-position-17" style="font-size: 1em;">Anaconda</a></li>
	<li><a href="http://dacatay.com/tag/cvxopt/" class="tag-cloud-link tag-link-82 tag-link-position-18" style="font-size: 1em;">cvxopt</a></li>
	<li><a href="http://dacatay.com/tag/beginner/" class="tag-cloud-link tag-link-19 tag-link-position-19" style="font-size: 1em;">Beginner</a></li>
	<li><a href="http://dacatay.com/tag/portfolio-optimization/" class="tag-cloud-link tag-link-81 tag-link-position-20" style="font-size: 1em;">portfolio optimization</a></li>
	<li><a href="http://dacatay.com/tag/bash/" class="tag-cloud-link tag-link-18 tag-link-position-21" style="font-size: 1em;">Bash</a></li>
	<li><a href="http://dacatay.com/tag/statistical-learning/" class="tag-cloud-link tag-link-39 tag-link-position-22" style="font-size: 1em;">statistical learning</a></li>
	<li><a href="http://dacatay.com/tag/matplotlib/" class="tag-cloud-link tag-link-96 tag-link-position-23" style="font-size: 1em;">matplotlib</a></li>
	<li><a href="http://dacatay.com/tag/ann/" class="tag-cloud-link tag-link-109 tag-link-position-24" style="font-size: 1em;">ann</a></li>
	<li><a href="http://dacatay.com/tag/neural-network/" class="tag-cloud-link tag-link-51 tag-link-position-25" style="font-size: 1em;">Neural Network</a></li>
	<li><a href="http://dacatay.com/tag/stationarity/" class="tag-cloud-link tag-link-118 tag-link-position-26" style="font-size: 1em;">stationarity</a></li>
	<li><a href="http://dacatay.com/tag/ide/" class="tag-cloud-link tag-link-26 tag-link-position-27" style="font-size: 1em;">IDE</a></li>
	<li><a href="http://dacatay.com/tag/time-series-forecast/" class="tag-cloud-link tag-link-104 tag-link-position-28" style="font-size: 1em;">time series forecast</a></li>
	<li><a href="http://dacatay.com/tag/optimization/" class="tag-cloud-link tag-link-83 tag-link-position-29" style="font-size: 1em;">optimization</a></li>
	<li><a href="http://dacatay.com/tag/development/" class="tag-cloud-link tag-link-74 tag-link-position-30" style="font-size: 1em;">development</a></li>
	<li><a href="http://dacatay.com/tag/fbprophet/" class="tag-cloud-link tag-link-102 tag-link-position-31" style="font-size: 1em;">fbprophet</a></li>
	<li><a href="http://dacatay.com/tag/arima/" class="tag-cloud-link tag-link-115 tag-link-position-32" style="font-size: 1em;">ARIMA</a></li>
	<li><a href="http://dacatay.com/tag/guide/" class="tag-cloud-link tag-link-24 tag-link-position-33" style="font-size: 1em;">Guide</a></li>
	<li><a href="http://dacatay.com/tag/tutorial/" class="tag-cloud-link tag-link-41 tag-link-position-34" style="font-size: 1em;">Tutorial</a></li>
	<li><a href="http://dacatay.com/tag/time-series/" class="tag-cloud-link tag-link-86 tag-link-position-35" style="font-size: 1em;">time series</a></li>
	<li><a href="http://dacatay.com/tag/statistics/" class="tag-cloud-link tag-link-117 tag-link-position-36" style="font-size: 1em;">statistics</a></li>
	<li><a href="http://dacatay.com/tag/numpy/" class="tag-cloud-link tag-link-30 tag-link-position-37" style="font-size: 1em;">numpy</a></li>
	<li><a href="http://dacatay.com/tag/neural-net/" class="tag-cloud-link tag-link-108 tag-link-position-38" style="font-size: 1em;">neural net</a></li>
	<li><a href="http://dacatay.com/tag/windows-10/" class="tag-cloud-link tag-link-43 tag-link-position-39" style="font-size: 1em;">Windows 10</a></li>
	<li><a href="http://dacatay.com/tag/ubuntu-bash/" class="tag-cloud-link tag-link-42 tag-link-position-40" style="font-size: 1em;">Ubuntu Bash</a></li>
	<li><a href="http://dacatay.com/tag/time-series-analysis/" class="tag-cloud-link tag-link-88 tag-link-position-41" style="font-size: 1em;">time series analysis</a></li>
	<li><a href="http://dacatay.com/tag/stock-returns/" class="tag-cloud-link tag-link-84 tag-link-position-42" style="font-size: 1em;">stock returns</a></li>
	<li><a href="http://dacatay.com/tag/time-series-prediction/" class="tag-cloud-link tag-link-103 tag-link-position-43" style="font-size: 1em;">time series prediction</a></li>
	<li><a href="http://dacatay.com/tag/tensorflow/" class="tag-cloud-link tag-link-76 tag-link-position-44" style="font-size: 1em;">tensorflow</a></li>
	<li><a href="http://dacatay.com/tag/lstm/" class="tag-cloud-link tag-link-112 tag-link-position-45" style="font-size: 1em;">LSTM</a></li>
</ul>
</div></section><section id="text-5" class="widget widget_text"><h2 class="widget-title">google ad</h2>			<div class="textwidget"><p><script async="" src="./Part 4_ Time Series Prediction with ARIMA Models in Python - dacatay_files/adsbygoogle.js.download"></script><br>
<script>
  (adsbygoogle = window.adsbygoogle || []).push({
    google_ad_client: "ca-pub-6962034930395047",
    enable_page_level_ads: true
  });
</script></p>
</div>
		</section><section id="archives-2" class="widget widget_archive"><h2 class="widget-title">Archives</h2>		<ul>
			<li><a href="http://dacatay.com/2017/12/">December 2017</a></li>
	<li><a href="http://dacatay.com/2017/11/">November 2017</a></li>
	<li><a href="http://dacatay.com/2017/09/">September 2017</a></li>
	<li><a href="http://dacatay.com/2017/07/">July 2017</a></li>
	<li><a href="http://dacatay.com/2017/06/">June 2017</a></li>
	<li><a href="http://dacatay.com/2017/05/">May 2017</a></li>
		</ul>
		</section>	</aside><!-- .sidebar .widget-area -->

		</div><!-- .site-content -->

		<footer id="colophon" class="site-footer" role="contentinfo">
							<nav class="main-navigation" role="navigation" aria-label="Footer Primary Menu">
					<div class="menu-primary-container"><ul id="menu-primary-1" class="primary-menu"><li class="menu-item menu-item-type-custom menu-item-object-custom menu-item-home menu-item-1001"><a href="http://dacatay.com/">Home</a></li>
<li class="menu-item menu-item-type-post_type menu-item-object-page current_page_parent menu-item-1013"><a href="http://dacatay.com/blog/">Blog</a></li>
<li class="menu-item menu-item-type-post_type menu-item-object-page menu-item-16"><a href="http://dacatay.com/contact/">Contact</a></li>
</ul></div>				</nav><!-- .main-navigation -->
			
							<nav class="social-navigation" role="navigation" aria-label="Footer Social Links Menu">
					<div class="menu-social-container"><ul id="menu-social-1" class="social-links-menu"><li class="menu-item menu-item-type-custom menu-item-object-custom menu-item-21"><a href="http://facebook.com/"><span class="screen-reader-text">Fb</span></a></li>
<li class="menu-item menu-item-type-custom menu-item-object-custom menu-item-779"><a href="http://twitter.com/"><span class="screen-reader-text">Twitter</span></a></li>
<li class="menu-item menu-item-type-custom menu-item-object-custom menu-item-782"><a href="http://linkedin.com/"><span class="screen-reader-text">Linkedin</span></a></li>
<li class="menu-item menu-item-type-custom menu-item-object-custom menu-item-1134"><a href="http://github.com/dacatay"><span class="screen-reader-text">github</span></a></li>
</ul></div>				</nav><!-- .social-navigation -->
			
			<div class="site-info">
								<span class="site-title"><a href="http://dacatay.com/" rel="home">dacatay</a></span>
				<a href="https://wordpress.org/">Proudly powered by WordPress</a>
			</div><!-- .site-info -->
		</footer><!-- .site-footer -->
	</div><!-- .site-inner -->
</div><iframe id="sumome-jquery-iframe" title="Sumo Hidden Content" style="display: none;" src="./Part 4_ Time Series Prediction with ARIMA Models in Python - dacatay_files/saved_resource(3).html"></iframe><ins class="adsbygoogle" data-adsbygoogle-status="done" style="display: none;"><ins id="aswift_1_expand" style="display:inline-table;border:none;height:NaNpx;margin:0;padding:0;position:relative;visibility:visible;width:NaNpx;background-color:transparent;"><ins id="aswift_1_anchor" style="display:block;border:none;height:NaNpx;margin:0;padding:0;position:relative;visibility:visible;width:NaNpx;background-color:transparent;"><iframe frameborder="0" marginwidth="0" marginheight="0" vspace="0" hspace="0" allowtransparency="true" scrolling="no" allowfullscreen="true" onload="var i=this.id,s=window.google_iframe_oncopy,H=s&amp;&amp;s.handlers,h=H&amp;&amp;H[i],w=this.contentWindow,d;try{d=w.document}catch(e){}if(h&amp;&amp;d&amp;&amp;(!d.body||!d.body.firstChild)){if(h.call){setTimeout(h,0)}else if(h.match){try{h=s.upd(h,i)}catch(e){}w.location.replace(h)}}" id="aswift_1" name="aswift_1" style="left:0;position:absolute;top:0;width:NaNpx;height:NaNpx;" src="./Part 4_ Time Series Prediction with ARIMA Models in Python - dacatay_files/saved_resource(4).html"></iframe></ins></ins></ins><!-- .site -->

<div data-animation="no-animation" data-icons-animation="rubberBand" data-overlay="" data-change-size="" data-button-size="1" style="font-size: 1em; top: 199px; display: block;" class="supsystic-social-sharing supsystic-social-sharing-package-flat supsystic-social-sharing-fixed supsystic-social-sharing-left supsystic-social-sharing-init supsystic-social-sharing-loaded" data-text=""><a class="social-sharing-button sharer-flat sharer-flat-3 counter-standard without-counter facebook" target="_blank" title="Facebook" href="http://www.facebook.com/sharer.php?u=http%3A%2F%2Fdacatay.com%2Fdata-science%2Fpart-4-time-series-prediction-arima-python%2F" data-nid="1" data-name="" data-pid="1" data-post-id="1282" data-url="http://dacatay.com/wp-admin/admin-ajax.php" data-description="Part 4: Time Series Prediction with ARIMA Models in Python" rel="nofollow"><i class="fa fa-fw fa-facebook"></i><div class="counter-wrap standard"><span class="counter">0</span></div></a><a class="social-sharing-button sharer-flat sharer-flat-3 counter-standard without-counter twitter" target="_blank" title="Twitter" href="https://twitter.com/share?url=http%3A%2F%2Fdacatay.com%2Fdata-science%2Fpart-4-time-series-prediction-arima-python%2F&amp;text=Part+4%3A+Time+Series+Prediction+with+ARIMA+Models+in+Python" data-nid="2" data-name="" data-pid="1" data-post-id="1282" data-url="http://dacatay.com/wp-admin/admin-ajax.php" data-description="Part 4: Time Series Prediction with ARIMA Models in Python" rel="nofollow"><i class="fa fa-fw fa-twitter"></i><div class="counter-wrap standard"><span class="counter">1</span></div></a><a class="social-sharing-button sharer-flat sharer-flat-3 counter-standard without-counter googleplus" target="_blank" title="Google+" href="https://plus.google.com/share?url=http%3A%2F%2Fdacatay.com%2Fdata-science%2Fpart-4-time-series-prediction-arima-python%2F" data-nid="3" data-name="" data-pid="1" data-post-id="1282" data-url="http://dacatay.com/wp-admin/admin-ajax.php" data-description="Part 4: Time Series Prediction with ARIMA Models in Python" rel="nofollow"><i class="fa fa-fw fa-google-plus"></i><div class="counter-wrap standard"><span class="counter">0</span></div></a><a class="social-sharing-button sharer-flat sharer-flat-3 counter-standard without-counter reddit" target="_blank" title="Reddit" href="http://reddit.com/submit?url=http%3A%2F%2Fdacatay.com%2Fdata-science%2Fpart-4-time-series-prediction-arima-python%2F&amp;title=Part+4%3A+Time+Series+Prediction+with+ARIMA+Models+in+Python" data-nid="6" data-name="" data-pid="1" data-post-id="1282" data-url="http://dacatay.com/wp-admin/admin-ajax.php" data-description="Part 4: Time Series Prediction with ARIMA Models in Python" rel="nofollow"><i class="fa fa-fw fa-reddit"></i><div class="counter-wrap standard"><span class="counter">0</span></div></a><a class="social-sharing-button sharer-flat sharer-flat-3 counter-standard without-counter linkedin" target="_blank" title="Linkedin" href="https://www.linkedin.com/shareArticle?mini=true&amp;title=Part+4%3A+Time+Series+Prediction+with+ARIMA+Models+in+Python&amp;url=http%3A%2F%2Fdacatay.com%2Fdata-science%2Fpart-4-time-series-prediction-arima-python%2F" data-nid="13" data-name="" data-pid="1" data-post-id="1282" data-url="http://dacatay.com/wp-admin/admin-ajax.php" data-description="Part 4: Time Series Prediction with ARIMA Models in Python" rel="nofollow"><i class="fa fa-fw fa-linkedin"></i><div class="counter-wrap standard"><span class="counter">0</span></div></a><a class="social-sharing-button sharer-flat sharer-flat-3 counter-standard without-counter bookmark" target="_blank" title="Add Bookmark" href="http://dacatay.com/data-science/part-4-time-series-prediction-arima-python/#" data-nid="15" data-name="" data-pid="1" data-post-id="1282" data-url="http://dacatay.com/wp-admin/admin-ajax.php" data-description="Part 4: Time Series Prediction with ARIMA Models in Python" rel="nofollow"><i class="fa fa-fw fa-plus"></i><div class="counter-wrap standard"><span class="counter">0</span></div></a></div>	<div style="display:none">
	<div class="grofile-hash-map-3a7355cdfc1a1ddd31347e876a461a30">
	</div>
	</div>

	<script type="text/javascript">
		window.WPCOM_sharing_counts = {"http:\/\/dacatay.com\/data-science\/part-4-time-series-prediction-arima-python\/":1282};
	</script>
<!--[if lte IE 8]>
<link rel='stylesheet' id='jetpack-carousel-ie8fix-css'  href='http://dacatay.com/wp-content/plugins/jetpack/modules/carousel/jetpack-carousel-ie8fix.css?ver=20121024' type='text/css' media='all' />
<![endif]-->
<link rel="stylesheet" id="sss-base-css" href="./Part 4_ Time Series Prediction with ARIMA Models in Python - dacatay_files/base.css" type="text/css" media="all">
<link rel="stylesheet" id="sss-tooltipster-main-css" href="./Part 4_ Time Series Prediction with ARIMA Models in Python - dacatay_files/tooltipster.css" type="text/css" media="all">
<link rel="stylesheet" id="sss-brand-icons-css" href="./Part 4_ Time Series Prediction with ARIMA Models in Python - dacatay_files/brand-icons.css" type="text/css" media="all">
<link rel="stylesheet" id="sss-tooltipster-shadow-css" href="./Part 4_ Time Series Prediction with ARIMA Models in Python - dacatay_files/tooltipster-shadow.css" type="text/css" media="all">
<script type="text/javascript" src="./Part 4_ Time Series Prediction with ARIMA Models in Python - dacatay_files/photon.js.download"></script>
<script type="text/javascript" src="./Part 4_ Time Series Prediction with ARIMA Models in Python - dacatay_files/devicepx-jetpack.js.download"></script>
<script type="text/javascript" src="./Part 4_ Time Series Prediction with ARIMA Models in Python - dacatay_files/gprofiles.js.download"></script>
<script type="text/javascript">
/* <![CDATA[ */
var WPGroHo = {"my_hash":""};
/* ]]> */
</script>
<script type="text/javascript" src="./Part 4_ Time Series Prediction with ARIMA Models in Python - dacatay_files/wpgroho.js.download"></script>
<script type="text/javascript" src="./Part 4_ Time Series Prediction with ARIMA Models in Python - dacatay_files/skip-link-focus-fix.js.download"></script>
<script type="text/javascript" src="./Part 4_ Time Series Prediction with ARIMA Models in Python - dacatay_files/comment-reply.min.js.download"></script>
<script type="text/javascript">
/* <![CDATA[ */
var screenReaderText = {"expand":"expand child menu","collapse":"collapse child menu"};
/* ]]> */
</script>
<script type="text/javascript" src="./Part 4_ Time Series Prediction with ARIMA Models in Python - dacatay_files/functions.js.download"></script>
<script type="text/javascript" src="./Part 4_ Time Series Prediction with ARIMA Models in Python - dacatay_files/q2w3-fixed-widget.min.js.download"></script>
<script type="text/javascript" src="./Part 4_ Time Series Prediction with ARIMA Models in Python - dacatay_files/wp-embed.min.js.download"></script>
<script type="text/javascript" src="./Part 4_ Time Series Prediction with ARIMA Models in Python - dacatay_files/spin.min.js.download"></script>
<script type="text/javascript" src="./Part 4_ Time Series Prediction with ARIMA Models in Python - dacatay_files/jquery.spin.min.js.download"></script>
<script type="text/javascript">
/* <![CDATA[ */
var jetpackCarouselStrings = {"widths":[370,700,1000,1200,1400,2000],"is_logged_in":"","lang":"en","ajaxurl":"http:\/\/dacatay.com\/wp-admin\/admin-ajax.php","nonce":"60e0c23f3f","display_exif":"1","display_geo":"1","single_image_gallery":"1","single_image_gallery_media_file":"","background_color":"black","comment":"Comment","post_comment":"Post Comment","write_comment":"Write a Comment...","loading_comments":"Loading Comments...","download_original":"View full size <span class=\"photo-size\">{0}<span class=\"photo-size-times\">\u00d7<\/span>{1}<\/span>","no_comment_text":"Please be sure to submit some text with your comment.","no_comment_email":"Please provide an email address to comment.","no_comment_author":"Please provide your name to comment.","comment_post_error":"Sorry, but there was an error posting your comment. Please try again later.","comment_approved":"Your comment was approved.","comment_unapproved":"Your comment is in moderation.","camera":"Camera","aperture":"Aperture","shutter_speed":"Shutter Speed","focal_length":"Focal Length","copyright":"Copyright","comment_registration":"0","require_name_email":"1","login_url":"http:\/\/dacatay.com\/wp-login.php?redirect_to=http%3A%2F%2Fdacatay.com%2Fdata-science%2Fpart-4-time-series-prediction-arima-python%2F","blog_id":"1","meta_data":["camera","aperture","shutter_speed","focal_length","copyright"],"local_comments_commenting_as":"<fieldset><label for=\"email\">Email (Required)<\/label> <input type=\"text\" name=\"email\" class=\"jp-carousel-comment-form-field jp-carousel-comment-form-text-field\" id=\"jp-carousel-comment-form-email-field\" \/><\/fieldset><fieldset><label for=\"author\">Name (Required)<\/label> <input type=\"text\" name=\"author\" class=\"jp-carousel-comment-form-field jp-carousel-comment-form-text-field\" id=\"jp-carousel-comment-form-author-field\" \/><\/fieldset><fieldset><label for=\"url\">Website<\/label> <input type=\"text\" name=\"url\" class=\"jp-carousel-comment-form-field jp-carousel-comment-form-text-field\" id=\"jp-carousel-comment-form-url-field\" \/><\/fieldset>"};
/* ]]> */
</script>
<script type="text/javascript" src="./Part 4_ Time Series Prediction with ARIMA Models in Python - dacatay_files/jetpack-carousel.js.download"></script>
<script type="text/javascript" src="./Part 4_ Time Series Prediction with ARIMA Models in Python - dacatay_files/postmessage.min.js.download"></script>
<script type="text/javascript" src="./Part 4_ Time Series Prediction with ARIMA Models in Python - dacatay_files/jquery.jetpack-resize.min.js.download"></script>
<script type="text/javascript" src="./Part 4_ Time Series Prediction with ARIMA Models in Python - dacatay_files/queuehandler.js.download"></script>
<script type="text/javascript" src="./Part 4_ Time Series Prediction with ARIMA Models in Python - dacatay_files/frontend.js.download"></script>
<script type="text/javascript" src="./Part 4_ Time Series Prediction with ARIMA Models in Python - dacatay_files/jquery.tooltipster.min.js.download"></script>
<script type="text/javascript" src="./Part 4_ Time Series Prediction with ARIMA Models in Python - dacatay_files/jquery.bpopup.min.js.download"></script>
<script type="text/javascript" src="./Part 4_ Time Series Prediction with ARIMA Models in Python - dacatay_files/share.js.download"></script>
<script type="text/javascript">
/* <![CDATA[ */
var sharing_js_options = {"lang":"en","counts":"1"};
/* ]]> */
</script>
<script type="text/javascript" src="./Part 4_ Time Series Prediction with ARIMA Models in Python - dacatay_files/sharing.js.download"></script>
<script type="text/javascript">
var windowOpen;
			jQuery( document.body ).on( 'click', 'a.share-twitter', function() {
				// If there's another sharing window open, close it.
				if ( 'undefined' !== typeof windowOpen ) {
					windowOpen.close();
				}
				windowOpen = window.open( jQuery( this ).attr( 'href' ), 'wpcomtwitter', 'menubar=1,resizable=1,width=600,height=350' );
				return false;
			});
var windowOpen;
			jQuery( document.body ).on( 'click', 'a.share-facebook', function() {
				// If there's another sharing window open, close it.
				if ( 'undefined' !== typeof windowOpen ) {
					windowOpen.close();
				}
				windowOpen = window.open( jQuery( this ).attr( 'href' ), 'wpcomfacebook', 'menubar=1,resizable=1,width=600,height=400' );
				return false;
			});
var windowOpen;
			jQuery( document.body ).on( 'click', 'a.share-google-plus-1', function() {
				// If there's another sharing window open, close it.
				if ( 'undefined' !== typeof windowOpen ) {
					windowOpen.close();
				}
				windowOpen = window.open( jQuery( this ).attr( 'href' ), 'wpcomgoogle-plus-1', 'menubar=1,resizable=1,width=480,height=550' );
				return false;
			});
</script>
	<iframe src="./Part 4_ Time Series Prediction with ARIMA Models in Python - dacatay_files/master.html" scrolling="no" id="likes-master" name="likes-master" style="display:none;"></iframe>
	<div id="likes-other-gravatars"><div class="likes-text"><span>%d</span> bloggers like this:</div><ul class="wpl-avatars sd-like-gravatars"></ul></div>
	<script type="text/javascript" src="./Part 4_ Time Series Prediction with ARIMA Models in Python - dacatay_files/e-201808.js.download" async="" defer=""></script>
<script type="text/javascript">
	_stq = window._stq || [];
	_stq.push([ 'view', {v:'ext',j:'1:5.6',blog:'138715424',post:'1282',tz:'2',srv:'dacatay.com'} ]);
	_stq.push([ 'clickTrackerInit', '138715424', '1282' ]);
</script>



<!-- Dynamic page generated in 0.583 seconds. -->
<!-- Cached page generated by WP-Super-Cache on 2018-02-21 15:33:19 -->

<!-- super cache --><a href="javascript:void(0);" title="Sumo" style="background-color: rgb(0, 115, 183); border-radius: 3px 0px 0px 3px; box-shadow: rgba(0, 0, 0, 0.2) 0px 4px 10px; position: fixed; z-index: 2147483647; padding: 0px; width: 44px; height: 40px; text-indent: -10000px; opacity: 1; display: block !important; top: 40px; right: -40px;"><span style="position: absolute; left: -10000px; top: auto; width: 1px; height: 1px; overflow: hidden; border-radius: 3px 0px 0px 3px; margin-left: 4px; margin-right: 0px;">Sumo</span><span style="display: block; width: 40px; height: 40px; background: url(&quot;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAMAAADXqc3KAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA3hpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTM4IDc5LjE1OTgyNCwgMjAxNi8wOS8xNC0wMTowOTowMSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDoxZDQ2MjI4YS03NWY2LTRkZTQtOGJjYy1hODc1NjRkMjYxYTUiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6RDQ3MUVFMDFFMjVDMTFFNjlFQjhBRjdGODU5MDJBMDUiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6RDQ3MUVFMDBFMjVDMTFFNjlFQjhBRjdGODU5MDJBMDUiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTcgKE1hY2ludG9zaCkiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDoxZDQ2MjI4YS03NWY2LTRkZTQtOGJjYy1hODc1NjRkMjYxYTUiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6MWQ0NjIyOGEtNzVmNi00ZGU0LThiY2MtYTg3NTY0ZDI2MWE1Ii8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+8JtvywAAAKhQTFRFzOPxSJvLA3W4Mo7FBna5w97u8vj7EHy8a67VhbzdsdTpVaLPh73d9/v9C3m6QZfJbq/WXKbR3u32JIfB3ez1KorDir/eBHW4+/3+rtPoZarUG4K/LIvDDnu7ocvkf7nbdrTY9fr8E328WKPQO5PITJ3MPpXJstXptdbq+Pv9cbHXaq3VU6HOkMLgnMnjDHq62uv1/P3+6/T53Oz1cLDX/f7+AHO3////ptOZ5QAAADh0Uk5T/////////////////////////////////////////////////////////////////////////wA7XBHKAAAAmUlEQVR42sSRRxLCMAxFRSq9907ovebr/jdDMWYGxmZL3sIqbyFbJv4B/VlkVlerKALTD3G46Mx3AOR1UZ/TsDxW6W0gfYRNVfTCFu2AWpAMgMItMW+zQJU2UjWI29D0+e5KWNPMk+A9Om+B/UgOJyCuwMJCrpuziYkIsglfRByZ/XM3eXnBFEu1kpMpjq9dxQYp/OAXTwEGAB7Rc1xVnPemAAAAAElFTkSuQmCC&quot;) 8px 8px no-repeat white; margin-left: 4px; border-radius: 3px 0px 0px 3px; margin-right: 0px;"></span></a><img src="./Part 4_ Time Series Prediction with ARIMA Models in Python - dacatay_files/g.gif" alt=":)" width="6" height="5" id="wpstats"></body></html>